commit 40539695d0ca7b3ef26d5a6d9f6aef10ae686ed9
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-21 13:54:09 +0100

    version 0.8.0

commit 5edb090bfbd88d02a06ffb27343738c2ae80ed7c
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-21 15:54:13 +0100

    doc: Mark TplLogStoreEmpathyClass fields as private to avoid warnings

commit 819376cc6483667ce7698e6ac3088bdbbd429ac5
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-21 15:48:12 +0100

    doc: Use xi:fallback when including the annotation glossary

commit 33ba3a6a506f907f5c9902156941c188803490fb
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-21 13:45:04 +0100

    log-walker: Add since tags to docstrings

commit 2332f4c6c6445616672617b587addc7211d3e99a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2013-01-16 14:47:30 +0000

    Split legacy Empathy log reader into its own class
    
    My commit eaefb26 introduced a regression: by assuming that any class
    that implements add_event is writable, logs were being written to the
    legacy Empathy location.
    
    By splitting the legacy location handling into a subclass, we can
    override add_event to un-implement it and make the subclass read-only,
    as well as removing special cases from the XML store itself.
    
    Thanks to Debarshi Ray for catching this!

commit 586e2c4b847e8c39a01b648ab24e4cbd44dae67d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2013-01-16 14:46:49 +0000

    log-store-xml: use _tpl_log_store_get_name()
    
    By consistently using the wrapper function rather than calling our
    implementation directly, subclassing won't break.

commit 4603bd0549f7b246042522a04abdb0d5f6af3922
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2013-01-16 14:34:07 +0000

    log-store-xml: simplify choosing basedir
    
    log_store_xml_get_name() makes the same Empathy vs. TpLogger decision as
    the test_mode path was making. Since the log store's name is used to
    find the real directory, it also seems better to use the same code path
    in the test suite.

commit 7d84e7b97603af85c78a3021ae9aabe572f942c9
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-09 14:28:34 +0100

    log-walker: Use a queue instead of a mutex for serializing operations
    
    Earlier we were using threads to implement the asynchronous get_events
    and rewind methods, so we used a mutex to serialize them. However, now
    get_events has been moved to a single threaded model, so using a mutex
    will lead to undefined behaviour.
    
    Instead we use a queue to store incoming operations (ie. get_events or
    rewind) and they are executed one after the other.
    
    Fixes: https://bugs.freedesktop.org/54270

commit 8c591b22881f441d849f81ad16d969af0a37fa39
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-09-05 00:56:18 +0200

    log-walker: Use the op_res for carrying async context
    
    As a result we don't need the wrapper callback for fill_cache.
    
    Fixes: https://bugs.freedesktop.org/54270

commit 14c8d7d41bcf049ee2c3aca5ef748bea10bc7616
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-09-05 00:31:29 +0200

    log-walker: Use _take_error instead of _set_from_error / _error_free
    
    Fixes: https://bugs.freedesktop.org/54270

commit 08cb95912dc554c45f3882eca592dca7012425b6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-09-05 00:26:17 +0200

    log-walker: Use complete_in_idle() instead of idle_add()
    
    Fixes: https://bugs.freedesktop.org/54270

commit 65483732df890a2c702feb55ba594c59118f8658
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-31 15:25:11 +0200

    tests: Add a test for log-walker/rewind
    
    ... to cover the use of a filter.
    
    Fixes: https://bugs.freedesktop.org/54270

commit ae31e0b31f7abea16aade47fa3ccc8c4bbfdae44
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-31 14:59:55 +0200

    tests: Add a test for log-walker/get-events
    
    ... to cover the use of a filter.
    
    Fixes: https://bugs.freedesktop.org/54270

commit 9912e20532dc785da69346ae70577b75d6ec337d
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-31 14:22:38 +0200

    log-walker: Streamline the history code
    
    Purely cosmetic. No changes in functionality.

commit 7818d410e868a1bd8a42eb0de1a754387561cedc
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-31 14:18:43 +0200

    log-walker: Run the filter synchronously in the walker
    
    This ensures that the TplLogEventFilter is always run from the same
    thread which invoked the walker. This is implemented by keeping track
    of skipped events in the history instead of silently ignoring them
    within the LogIters. This has the nice side effect that we do not need
    to run the filter while rewinding.
    
    Fixes: https://bugs.freedesktop.org/54270

commit d7302bd2c4ae43a962a293b53998bd03423adba4
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-31 00:01:54 +0200

    log-walker: Rework get_events
    
    ... so that only the caches are filled asynchronously and the rest of
    the work does not involve the use of a separate thread. This is the
    first step towards ensuring that we do not run the TplLogEventFilter
    from a separate thread.
    
    NB: This does not solve the actual problem. The TplLogEventFilter is
    still invoked from a separate thread. However this refactoring lets us
    move in that direction.
    
    Fixes: https://bugs.freedesktop.org/54270

commit 33531660b4d5c6bb1450ac80686e75012a06a7eb
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-09 13:43:49 +0100

    Include config.h as the first thing in every .c file
    
    This is Autoconf best-practice, and ensures that the GLib and Telepathy
    version-selection macros defined by configure.ac work as intended.
    
    Including config.h turns on ENABLE_DEBUG, which in turn leads to the
    usage of _tpl_debug_set_flags_from_env. In those cases we should
    include telepathy-logger/debug-internal.h also.
    
    Fixes: https://bugs.freedesktop.org/59165

commit fb8c6f057b102b854e608cc48f3a08cf2daa59f8
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2013-01-09 13:59:43 +0100

    Bump minimum GLib version to 2.28
    
    We are using g_clear_object.

commit 59f365ba6c3443ed27ce7109a1a6398df796c13b
Merge: 47a6af1 e901fbf
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-12-29 16:42:52 +0100

    Merge remote-tracking branch 'origin/telepathy-logger-0.6'

commit e901fbf2baf78e65616daf7a5f37b5ae4d0072bf
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-10-30 10:09:33 +0100

    start on version 0.6.1
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3bda9376a541ccbdccb478ac154cc0daed156dda
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-10-29 22:16:21 +0100

    version 0.6.0
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8e68b2dc5d9c8d293d08e08e868bb259ba298ec6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-28 14:33:15 -0400

    Add missing file in gitignore

commit 4f5b655aa1e8f9027403c2c518c68fc8b8232c81
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 16:01:41 +0200

    tools: Remove telepathy-glib-env from version control
    
    It is generated during the build.

commit 99520a298e4c913c889c0ef60e5311a692578825
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-10-30 10:00:49 +0100

    tools: expect a tar.bz2 not a tar.gz
    
    This is an ugly patch but it'll do for now.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6b9494268d300f98a8bf9e72280608431aeb7f49
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-10 16:52:11 +0200

    log-store-xml: Filter out duplicate dates in get_dates
    
    Fixes: https://bugs.freedesktop.org/53345

commit 9acede9cb4e7d0c154032dfc63198782adde901f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-29 11:54:21 -0400

    Fix distcheck, missing file in clean list

commit 36d0458e502f48714c58c993b0e6fd0b13a3a11e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-10-29 22:15:33 +0100

    NEWS: summary for 0.6.0
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 47a6af11fde8599b09eb36ec003935e40661f55e
Merge: 42411a3 6d4d216
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-27 12:23:14 -0400

    Merge branch 'cleanup'
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55338

commit 6d4d216f4a54b70a2cb986be436ed0ffaf90efc8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:57:04 -0400

    Ignore cscope.out file

commit 2b4aa4d6796a32022039947102248a83539d8857
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:57:02 -0400

    TplLogStore: remove :name property entirely.
    
    Given that _tpl_log_store_get_name exists, there's really no reason to
    have a property as well.

commit 02378b69d4057001f873875ea9c03bda516fc08d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:57:01 -0400

    Make TplLogStore:name immutable.
    
    For all log stores except the Xml one, this is always set to the same
    thing. For the Xml one, the name of the store depends entirely on the
    value of empathy-legacy.

commit e897c6f8284dc4ce6f5329fbfc6b24ba643d3ecd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:57:01 -0400

    LogManager: rearrange creating log stores a little.

commit d2bb2390c8598183d23a06ecc99705e6b0a94dbb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:57:00 -0400

    LogManager: simplify checking for duplicate stores

commit 5379654f62829ee5cf3751e73d20ae737b750a19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:56:59 -0400

    TplLogStore: make :readable property immutable
    
    Again, it's meaningless to have this be a writeable construct-only
    property—a store is either readable or it's not.

commit 6e7a9e68a6259ea3deaf6f8125435d3c4f86baa3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:56:58 -0400

    TplLogStore: remove writable property.
    
    This property was defined by the interface to be readwrite, but this
    doesn't make any sense: if the object implements the add_event method,
    then it is writable, and if not, it doesn't.

commit e79bf63afac074b24d7d1ba1c0b0f7bb4b042c8d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:56:44 -0400

    TplLogStore: attach doc comments to the right properties
    
    :readable and :writable had their doc comments swapped.

commit 02f14e5ed7074d30825ab1810c75520bfb9ed65f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2012-09-25 18:56:37 -0400

    Correct some typos in docstrings

commit 42411a31bc114ddb3fa6834c124e71a86f1d50f9
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-30 20:51:10 +0200

    log-walker: Don't leak the GList node

commit f917ebdbe9c875862930398fafb1964594d67eb2
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-29 22:32:24 +0200

    log-walker: Add an example explaining how to use the API
    
    Fixes: https://bugs.freedesktop.org/41772

commit efcc19d4d90ebfca9e1e7b1e67a8313388160a59
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-29 11:54:21 -0400

    Fix distcheck, missing file in clean list

commit 1896f29a8fc28a3ed3f025ac43a496622aacb8ad
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-29 11:43:54 -0400

    Rename is_begin into is_start

commit 825e15e5bc9f1fa390fad6560dc2e408be73bc2d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-28 16:25:23 -0400

    Fix doc warning: missing field in TplLogWalkerClass

commit 0361c0f908c20b6dacf8eb765cf1db546b74939a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-28 15:56:51 -0400

    Documentation fix

commit 7f3d4a9a978265e5e1e43e258a9657851ee05cdf
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-28 14:33:15 -0400

    Add missing file in gitignore

commit bba69923aee73ab8b0b0af299f760c76ba3e9403
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-28 14:33:03 -0400

    Add missing valgrind suppression

commit bc228dfa109e1989edadbdf1d85c684f550f84b7
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 19:08:34 +0200

    doc: Add log-*-internal.h to IGNORE_HFILES and link to log-walker.xml
    
    Fixes: https://bugs.freedesktop.org/41772

commit 9bdad6350a4efb753282906f837f839b596cbd68
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 16:01:41 +0200

    tools: Remove telepathy-glib-env from version control
    
    It is generated during the build.

commit 0ccc2f7770b52edc131adda66ddf60b10ebee1a6
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 15:51:40 +0200

    tests: Add a test for log-walker/rewind
    
    ... to cover events coming from multiple stores spanning several days
    where multiple events might have the same timestamp.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 7fe417ebfcf7e86d5b2db51f9b3cb19abe54a4af
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 13:43:23 +0200

    tests: Add a test for log-walker/get-events
    
    ... to cover events coming from multiple stores spanning several days
    where multiple events might have the same timestamp.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 4c512c2f37529f45021f955d4cc64a6e9ec7f895
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-08-28 13:39:16 +0200

    tests: Add new TpLogger and purple logs to flex the TplLogWalker
    
    The actual test case will be added later. Existing test cases have
    been adjusted accordingly.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 783b7bc910a6950bbbddac28439fba307d8a537e
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-31 16:31:24 +0200

    tests: Add a test for log-iter-pidgin/rewind
    
    ... to cover text events spanning multiple days.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 382cf6755412e9e36d5863175548776e49fb3cfb
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-31 16:31:24 +0200

    tests: Add a test for log-iter-pidgin/get-events
    
    ... to cover text events spanning multiple days.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 940368c746660b88941af1bf156e6fd584606568
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-31 16:31:24 +0200

    tests: Add a test for log-iter-xml/rewind
    
    ... to cover text events spanning multiple days, and a mix of call and
    text events.
    
    Fixes: https://bugs.freedesktop.org/41772

commit f933eddd65b7c1104630a6c628eb7bd67bff6ac0
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-31 16:31:24 +0200

    tests: Add a test for log-iter-xml/get-events
    
    ... to cover text events spanning multiple days, and a mix of call and
    text events.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 27cfd34a0476aeb34673d26e96f2dbb23684c300
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-08-10 16:52:11 +0200

    log-store-xml: Filter out duplicate dates in get_dates
    
    Fixes: https://bugs.freedesktop.org/53345

commit 799510c6927861ba7662307206f08b1827a3f160
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-12 11:27:27 +0200

    log-walker: Implement rewind
    
    Fixes: https://bugs.freedesktop.org/41772

commit 6e9636b104afe03ff99bf63bbe280f9b883c2bef
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-11 20:04:21 +0200

    log-walker: Add rewind skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit 401e164871a9664de951f287d335bf58372ee4c4
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-11 19:42:58 +0200

    log-walker: Keep a list of (iter, count) tuples
    
    This represents the order in which events were handed over to the user
    from each iterator. Lets say we have 10 events numbered from 0 to 9,
    with 0 being the oldest and 9 the latest event, and we have 3
    iterators Ia, Ib and Ic. If they were returned in batches of 5 as:
    +-----+--------+
    |event|iterator|
    +-----+--------+
    |  5  |   Ia   |
    |  6  |   Ib   |
    |  7  |   Ia   |
    |  8  |   Ia   |
    |  9  |   Ic   |
    + - - + - -- - +
    |  0  |   Ic   |
    |  1  |   Ic   |
    |  2  |   Ib   |
    |  3  |   Ib   |
    |  4  |   Ia   |
    +-----+--------+
    Then the list would be:
    (Ic, 2), (Ib, 2), (Ia, 2), (Ib, 1), (Ia, 2), (Ic, 1)
    
    Fixes: https://bugs.freedesktop.org/41772

commit e1188dea59d3cbdc4999ae92b1a36a20ad1bf602
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-11 18:58:34 +0200

    log-iter-pidgin: Implement rewind
    
    Fixes: https://bugs.freedesktop.org/41772

commit 3338392907f823e0a965e31c507d11133dd85921
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-11 18:54:01 +0200

    log-iter-xml: Implement rewind
    
    Fixes: https://bugs.freedesktop.org/41772

commit 181aba719cde7154248fb6028d65f4236486233b
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-11 18:51:03 +0200

    log-iter: Add a rewind pure virtual method
    
    Fixes: https://bugs.freedesktop.org/41772

commit e2283df2fe5e894067edc5dcbe5207c6ad365d06
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-05 12:18:02 +0200

    log-walker: Treat the internal state as a critical section
    
    Since the TplLogWalker API is asynchronous, we do not want multiple
    overlapping calls to stamp on each others' toes.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 7c93de6ba523445ab44ecd034d04764b0833114c
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-05 13:18:37 +0200

    log-walker: Add is_begin and is_end methods, and use them in get_events
    
    Fixes: https://bugs.freedesktop.org/41772

commit c3a6999e0bd7513dd01010e5d2607b2afe9885ef
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-29 17:18:58 +0200

    log-iter-pidgin: Implement get_events
    
    It a sign of completion if the number of events returned is less than
    num_events. NULL is returned when there are no more events left in the
    log.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 62e9fd3476342ebd70adc7199c6aa2adff265cd7
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-03 10:47:49 +0200

    log-store-pidgin: Implement create_iter
    
    Fixes: https://bugs.freedesktop.org/41772

commit 2a51d5e55c69e310a29c999525b7dce751a1012c
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-03 10:31:44 +0200

    Add TplLogIterPidgin skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit 008bffc14c0ed7c17e78e8fb4f4145fd19bba672
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-02 18:47:41 +0200

    log-walker: Implement get_events
    
    Fixes: https://bugs.freedesktop.org/41772

commit 649a5a1e59c0f29424b08e36af20bf9338c586c5
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-29 19:00:53 +0200

    log-walker: Add get_events skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit 72d7913032531e3c1094a06a3535a313309f4c7f
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-29 17:18:58 +0200

    log-iter-xml: Implement get_events
    
    It a sign of completion if the number of events returned is less than
    num_events. NULL is returned when there are no more events left in the
    log.
    
    Fixes: https://bugs.freedesktop.org/41772

commit 87a54bdafbb654c99d716e65162d9336bbf6db3f
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-28 16:03:15 +0200

    log-manager: Implement walk_filtered_events
    
    Fixes: https://bugs.freedesktop.org/41772

commit de7e0c47de6103c67be5d46e56286d05686c1376
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-28 15:52:59 +0200

    log-store-xml: Implement create_iter
    
    Fixes: https://bugs.freedesktop.org/41772

commit 56eff0cc3512b4da98e7c27842e20263b652b721
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-28 15:51:51 +0200

    log-store: Add a create_iter pure virtual method
    
    Fixes: https://bugs.freedesktop.org/41772

commit 26b9c953a4260f0fccba683741a84e7bb4fcb274
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-28 12:37:01 +0200

    Add TplLogIterXml skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit e9d9a4821ab63ab589cbe2a4032eaa5e10ea699d
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-07-02 18:31:12 +0200

    log-store: Add G_TYPE_OBJECT as a prerequisite of TPL_TYPE_LOG_STORE
    
    Without it you can't have properties of type TPL_TYPE_LOG_STORE.

commit cfb39d2342ecb481d56e22345cb8fae314d4d972
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-28 12:21:00 +0200

    Add TplLogWalker skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit 1d40ac8960befda413819fa1863e70326425ee18
Author: Debarshi Ray <debarshir@freedesktop.org>
Date:   2012-06-26 15:23:54 +0200

    Add TplLogIter skeleton
    
    Fixes: https://bugs.freedesktop.org/41772

commit 5edee51380b2c043df73bea781c13f4c3ec520bc
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 12:41:32 +0200

    Drop unused TplChannel

commit 2b3713458ef41d382054f2105162c1f10da51707
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 12:40:01 +0200

    Stop using TplChannel interface
    
    That interface is used only to prepare TplTextChannel and TplCallChannel,
    but they now have a CORE feature doing that job, so they can be prepared
    like any other proxy.

commit c44986c2179c142350f317eb212e22f415ee88bd
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 13:50:23 +0200

    Drop TplChannelFactory

commit 48824e96b9ccb1b08bf421b248277e382c102f28
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 13:45:07 +0200

    Stop using TplChannelFactory, reply on TplClientFactory instead
    
    Give a TplClientFactory to the TplObserver, so we get already prepared
    TplTextChannel and TplCallChannel subclasses.

commit 83321bc4095d064652a0dd2b537e171b5f6fedd5
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 13:32:26 +0200

    Add TplClientFactory
    
    It is a TpAutomaticClientFactory subclass that creates
    TplTextChannel and TplCallChannel instances

commit 2c616a30adc38d7d0768f476ed973dc8070c2e80
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 12:27:43 +0200

    TplTextChannel, TplCallChannel: Use TpProxyFeature

commit 22322c1922e2e13c193eafd55e52311e676c2caa
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 11:59:02 +0200

    TplTextChannel: Stop using TplActionChain
    
    It is not needed since only one operation is actually async

commit 9a297ac360a11198411b37d36eb09a8dee78c4e1
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 11:40:29 +0200

    TplTextChannel: Stop preparing TpContacts, TpChannel does it for us already

commit 20baef0ced1416af65a743b1688a1e5af03d6917
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 11:33:38 +0200

    TplCallChannel: Stop using TplActionChain
    
    It is not needed since only one operation is actually async

commit 4eae5a87246008df6b6e184a727713c283b18598
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-04 11:17:24 +0200

    No need to prepare TP_CONNECTION_FEATURE_CORE
    
    TpBaseClient already ensure that before handing the channel

commit d9b0a90777b544b2d6db688b403ae14c2defd99a
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-03 17:24:49 +0200

    TplCallChannel, TplTextChannel: Do not take TpAccount arg in constructor
    
    It can be taken from the TpConnection

commit a539396ff665b952a02dd3f0cda0360d65055450
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-02 16:10:22 +0200

    Remove streamed media channel support

commit 1c45faf788f2acd337f4adf23ea4f3f6a003f085
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-02 14:59:47 +0200

    Disable single include of telepathy-glib headers

commit 4b7a97be0f8250af48c5b9f97cace813bc64c0f8
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-02 15:37:05 +0200

    Update tools/ copy from telepathy-glib
    
    This avoid single include from generated code

commit b1046b3ee4cdd00323a4267a994dc67865a170b0
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   2012-07-03 12:00:26 +0200

    Bump telepathy-glib dependency to 0.19.2
    
    This is needed for the fixed meta headers

commit a896e3093dc316b88b179cf8a45323b8c8f324f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2012-06-05 10:53:02 +0200

    add missing config.h includes

commit fadc6d5367b3e0761b2fd8e6097630ec47e47f80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2012-06-05 10:52:28 +0200

    simple-conn: use TP_ERROR instead of TP_ERRORS
    
    The latter has been deprecated. Ideally we should sync this file from tp-glib
    but the current version depends on tp-glib 0.19.x

commit 2672e2526bf720c8918eb5c89637c52e42de5423
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2012-06-05 10:51:07 +0200

    use tp-glib version macros

commit 71793fe6ff1cc8aafcd5e4a7bd3947837bba9196
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   2012-05-25 14:32:25 -0400

    Update .gitignore
    
    https://bugs.freedesktop.org/show_bug.cgi?id=50361
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f5a91c2f48c60bc0b8fc53e915b66603bfff4dd3
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   2012-05-25 14:31:37 -0400

    log-manager: Fix annotations on get_filtered_events
    
    Both callbacks needs to be marked allow-none, and filter isn't an
    (async scope), it's an (async call).
    
    https://bugs.freedesktop.org/show_bug.cgi?id=50361
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5ec438f1f6f20d2402ae14a9a15bdbaf9131c4f6
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   2012-05-25 14:30:33 -0400

    Fix introspection warnings
    
    https://bugs.freedesktop.org/show_bug.cgi?id=50361
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 690726f7e0caf41d198f1110e02a45418c205612
Merge: ca3bcda 0b1ae31
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2012-04-26 22:40:43 +1000

    Merge branch 'telepathy-logger-0.4'

commit 0b1ae31d5678203c993e9b100088ad500ef3ff07
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2012-04-26 15:02:54 +1000

    Since we depend on Call support now, bump tp-glib dep to 0.18.0

commit ca3bcda71a2c9bbb4997062166af74e36bddfd4d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-04-03 12:02:22 -0400

    start on version 0.5.0
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 452a695f6b1152bfd0c7907ec76eaf12663b731c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-04-03 12:01:34 -0400

    start on version 0.4.1
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4a95ff88b0bce3a03296d4fe55b237d26ac89da5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-04-03 11:45:43 -0400

    version 0.4.0
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 70bb35affd9f39fe6b19fd3e016d0a7595f3a1c0
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-04-03 11:44:06 -0400

    update NEWS for 0.4.0
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 28cdec9c784aeff7e78e1eabe26a532bface6f88
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2012-04-03 11:46:09 -0400

    tools/telepathy.am: update to latest version from tp-glib
    
    Well... s/tar.gz/tar.bz2/g. We should fix this in upstream tp-glib
    tbh.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a8f0556afef3ea5063c916f3c9a85018f3c857b6
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2012-04-03 17:02:52 +1000

    Fix type in NEWS file

commit 52dc1a8815997705ffe98c3db432634f77448afa
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2012-04-03 16:59:44 +1000

    Post release version bump

commit 32ee99a70853344262a58fe1a309f0e0266a8d5b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2012-04-03 16:53:37 +1000

    Version 0.2.13

commit 32dcaccd28378b95713b1fc61c877ec547ec55a9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-03-28 19:47:06 -0400

    Limit end-reason to enum values rather then max int

commit c7baa2cf94e168546be2a8daebbb923f807af5eb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-03-28 19:46:31 -0400

    Style fix

commit e39480b3d476bc10675f49e4500bc3b1e35a64aa
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-03-28 17:44:25 -0400

    Be safe when CM sends change state multiple times
    
    I've notice that Gabble sends the ended state twice some times. This is
    a but in the CM, but better be safe.

commit d834c43aff5c92a9b61723c8812c0cd536542513
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2012-03-28 15:16:15 -0400

    Port TplCallChannel to Call1 API
    
    This include a API break in the unstable Call code. Code using the
    unstable call log feature will need porting.

commit fcf24e9575f05d7cdb08a1073d58f36d120ccd79
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2012-02-14 13:37:37 +0100

    add missing config.h

commit 2fc57b6d30be9ae13992a1f3b1b27acf2627865f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2012-02-14 13:36:53 +0100

    Disable GLib deprecation warnings
    
    We are stuck with GValueArray.

commit 4b224df614e3597a12158268357986b61ff34d4e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-11-24 13:30:45 -0500

    Fail on missing gobject-instrospection makefile
    
    On Debian the gobject-introspection build tools and the .pc are shipped
    into seperate packages without dependency, which is a packaging bug. To
    make this bug more obvious, we now fail if the makefile in /usr/share/
    is missing.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=43200

commit 0906817be7282e4b7863aa5cbd4a7ec7d933d3bb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-11-24 13:49:58 -0500

    Post release version bump

commit 1537e60fff43189bd3ecbffaae686e91f1944268
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-11-18 12:48:23 +0000

    Update check-c-style.sh from telepathy-glib

commit a1f6b3c5cf3454ab2dc93f07cdaeca4f336f3fea
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-11-18 12:42:23 +0000

    Replace g_ptr_array_free with g_ptr_array_unref

commit c2f47ed09bad710912c8674320c36a89b0026a05
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-11-18 12:40:33 +0000

    Replace g_array_free with g_array_unref

commit 6b705626d17f05552e518107afbca35012c12b73
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-11-18 12:32:18 +0000

    Replace g_hash_table_destroy with g_hash_table_unref

commit 1be52f807c693d2db9de7c0784081dda855e0aee
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-11-01 18:01:04 -0400

    Version 0.2.12

commit 83efea63b39727bbabd40e816cf38fb786b61255
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-31 17:12:29 -0400

    Version 0.2.11

commit a9cadd6557425cfc08890d2a1717a25a91f08169
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-31 17:56:05 -0400

    Improve GObject introspection anotation

commit 2a3a0d0194ffd9342aaedbdecdb38adaf3671c7f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-31 16:58:02 -0400

    Remove call to g_thread_init()
    
    This is automatically called by g_type_init() since glib 2.23 and is now
    deprecated.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=42284

commit b464c2928c2bd8ded61d3e7077513f107ca7f1ce
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-31 16:21:56 -0400

    Fixing some non-quiet actions

commit 6380af6c8a3b18d9e5ce9e6621e6817a64115f2f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-31 16:11:41 -0400

    Correctly enable silent build output

commit 5d28629e4324a370b383897716cc760cc1e9f1be
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-10-14 14:07:17 -0400

    Fix observer singleton and select features

commit 589eac5c37a2dc5020e18fc9197cfcb2e5934f25
Author: Vincent Penquerc'h <vincent.penquerch@collabora.co.uk>
Date:   2011-07-15 19:13:21 +0300

    Avoid dereferencing NULL pointers
    
    Use empty strings where a given string cannot be known
    due to a NULL sender or actor.

commit 32a3d22201b141a3cebfbbb526f0101a1cf9a5ef
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-06-27 12:53:31 -0400

    Fix action chain not to free result in finish
    
    Freeing result in finish would lead to use after free since GLib push
    and pop default thread context in complete() calls. Also, it's very bad
    pratice as _finish() calls are optional.

commit 3553a231152b43372fa46b20d83fff6886de5280
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-06-27 13:15:11 -0400

    Post version bump

commit 6883448b61a739c4b56964eca218f88de980d9e2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 18:33:41 -0400

    version 0.2.10

commit e9bdf7510c258796f61005f7d39cfb63531b86d9
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-26 17:51:47 -0400

    test_add_superseding_event: add some edit timestamps
    
    They should be preserved, but shouldn't affect how events are processed.

commit 3be72c50d72fed93198146fa9060d9b0616f6090
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-26 17:29:15 -0400

    Use gint64 for timestamps (not guint64)

commit 8f7b395881cffcb2935aae9c2b70b601b482c18a
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-26 16:20:02 -0400

    Update timestamp recording in text-channel
    
    timestamp == original_message_{sent || received}
     || message_{sent || received} || now.
    
    edit_timestamp == supersedes ? message_{sent || received} || now: 0

commit 2d32cc4e86c2b26d07d603db154b8731720c3963
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-26 10:14:39 -0400

    Add edit-timestamp, and remove original-timestamp
    
    log-store-xml:
    * store/save edit-timestamp rather than original-timestamp
    * Also don't let the edit timestamp override the timestamp for where messages
      are saved (as was the case for original-message).
    text-event:
    * s/original/edit/

commit b23d47176efaf88878972f1d39a4fdde90596679
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-26 16:22:41 -0400

    Revert "Update tests to use original-timestamp"
    
    This reverts commit 31411d5c9d19678ff862e07c508ff3cf78cbf40a.

commit 945c4ec3bc883d9ed11fddd042240a0cc6602e82
Merge: 4230ec1 2467441
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 18:18:44 -0400

    Merge branch 'fix-insert-after'

commit 246744179fc337ac588206c03bc2260938c7c7f1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 17:57:20 -0400

    Optimise _tpl_log_manager_get_filtered_events()
    
    Use a GQueue and _tpl_event_queue_insert_sorted_after() instead of
    insert_sorted() which lookup the list everytime. This also has the
    effect of keeping log order as much as possible when broken timestamp
    goes backward.

commit 4230ec13757892520a2971dacbb82b55fda7a76e
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-05-18 09:52:10 +0100

    Add a testcase for bug #37288

commit 7c449d62c723539ea3fa5f2508915173b73c53d9
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-05-17 15:15:10 +0100

    Fix destroy function for get_entities_async
    
    https://bugs.freedesktop.org/show_bug.cgi?id=37288

commit 14b857fdad941e90bddacca040679a13be6fec1d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 17:24:51 -0400

    Move event_queue_insert_sorted_after() to util

commit 74dfb5152a89e245ff99fd4d650db02c9d85da5f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 17:24:34 -0400

    Style fix two empty line between function

commit 83787894fa15de291a8f1557a126f460811d33d4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 16:43:15 -0400

    Test case where first call is older then any text

commit 9ab824eec3ba78d3219117cadb3e1caf04c6a4c6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 16:42:38 -0400

    Add comment to explain a bit the tests

commit 60cdc2fbde2b3eb376f9d01c984ffd9f426196f9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 16:46:25 -0400

    Fixed initial call event_queue_insert_sorted_after()
    
    The current code would always insert after the first element.

commit 70653d930a0cbb245f36719da5362cf89b208487
Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>
Date:   2011-05-26 16:46:40 -0400

    Fixed initialised but unused warning

commit 0629fee33903d0d0df8c3dd5264d29211cc1e926
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-25 22:23:21 -0400

    Fix warn not checking system() return value

commit a7a6e5b5a4152e85f0737a8fae37e5213b56196c
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-25 14:22:20 -0400

    log-store-xml.c: fix uninitialised variable warning

commit 31411d5c9d19678ff862e07c508ff3cf78cbf40a
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 19:45:08 -0400

    Update tests to use original-timestamp

commit b155a3dd4bc046e88ee6b99b254669b3dad9caa5
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 19:44:13 -0400

    text-channel: Put original-message-sent/received into original-timestamp
    
    Also, s/guint/guint64 in old code.

commit 60d97e7e6a2e8cb984964a707e7eb5fe7e8b811e
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 19:41:23 -0400

    add_text_event/parse_text_node: use original-timestamp for edits
    
    * Store/parse original-timestamp prop in xml.
    
    * Put the event in the file pointed to by original-timestamp
     * If it doesn't exist, fall back to the message's timestamp.

commit 54dc7de099329b26dc801c70ad0981385fb137dd
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 19:56:10 -0400

    add_{text,call}_event: s/timestamp/time_str/
    
    I expect "timestamp" to be a uint64 or a GDateTime, so I'm renaming this
    variable to avoid confusing name collisions later.

commit 91bdf0c9891cebb1b2908ca56de85d42fd81d6af
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 19:19:13 -0400

    log_store_xml_format_timestamp()
    
    * factor out log_store_xml_format_timestamp, since we need it for
      original-timestamp as well

commit 35af37418960b03313c9fd4464d402ea025e56a4
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-24 18:00:19 -0400

    text-event: add original-timestamp property

commit 926c91aa8545460e04a4726762f93bb4a85451aa
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-23 15:53:19 -0400

    text-event: s/dup_supersedes/get_supersedes/
    
    Copying and freeing lists of events is a waste of time.
    
    Reviewed-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 275e50a2774363161743a75f02d8d2e44f471373
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 21:31:19 -0400

    fixup! fixup! Test message edits that have broken timestamps
    
    cast to GFunc

commit 3a4bf33afed0f7c9919f9df2cd173110224ebe8e
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 21:30:50 -0400

    fixup! fixup! Add tests to cover messages arriving a bit/a lot late
    
    cast to GFunc

commit b20a53621e2b8e9f5c7b4cc3fd31099057658184
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 21:30:15 -0400

    fixup! fixup! Store, save and test message-token and supersedes-token
    
    oops: inverted boolean expression

commit d28618edff388d6785c390be323c0fed5be38bd6
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 21:29:46 -0400

    fixup! fixup! log_store_xml_get_events_for_file: replace edited messages.
    
    event_queue_replace_and_supersede: correct type and s/l/index/

commit 39bbf44d0de8c0c591469bd1921d62fccd657221
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 20:30:42 -0400

    fixup! tpl_text_event_{add,dup}_supersedes
    
    fix whitespace

commit 5646caae617463ea5e13bb0f569fb9a195160d3a
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 19:42:11 -0400

    fixup! Test message edits that have broken timestamps
    
    Note that this also fixes something from "test_add_superseding_event"
    but rebasing to fix that would cause conflicts so I'm not going to.

commit c6ffa03d92e7f44aff9b96cfc50c2be81e338e9c
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 19:40:25 -0400

    fixup! Add tests to cover messages arriving a bit/a lot late

commit f75c7a61548d8453d483e79aedeba97e23b398fa
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 19:26:45 -0400

    fixup! Store events in the correct file according to their timestamp
    
    > > + date = g_date_time_new_from_unix_local (timestamp);
    >
    > Timestamp in TplEvent are always UTC.

commit 63a51e2b2170f8cc333c756093f0c8a051c9deb4
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 18:51:43 -0400

    fixup! log_store_xml_get_events_for_file: replace edited messages.
    
    * update to private _tpl_text_event_add_supersedes
    
    Also addresses:
    > I think you don't have to call g_hash_table_insert() here ? And same in next
    > for loop.
    Actually, this is for the chained supersedes use-case, but yeah: it's wrong.
    Fixed it when I implemented event_queue_replace_and_supersede (),
    and fixed the comment on superseded_links
    
    
    > Use g_list_previous().
    
    > Is that suppose to be funny ?
    (apparently it wasn't funny; fixed)
    
    > Your leaking a reference on the dumm_event. Maybe you want to rework you
    > _add_supersedes() method into something like link_supersedes() that would take
    > ownership ?
    
    Created method event_queue_replace_and_supersede with similar feel
    to event_queue_insert_sorted_after.
    This is something that I wanted to do, but couldn't see a clean way to do.
    Fixing the semantics of superseded_links made this easier.
    
    > You don't check anymore if parsing event worked. A corrupted XML file will
    > cause your code to crash.
    >
    *_parse_*() will currently only return NULL if g_object_new() does, but you're
    right: if someone changes this behaviour later, I should be resilient to it.
    Fixed.

commit d8fe101ab2497d11394d24a569fc23ca6c943e8b
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 17:35:50 -0400

    fixup! Store, save and test message-token and supersedes-token
    
    Addresses:
    > > + if (token_str != NULL)
    > You might want to use TPL_STR_EMPTY() instead.
    
    > We should be a little more robust, and ignore supersedes if there is no
    > token.
    I assume that by this, you mean only record it if message-token also exists?

commit 30f8e28185261a9ba910a4b6e3cf3d2b65ec9e61
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-19 17:15:15 -0400

    fixup! tpl_text_event_{add,dup}_supersedes
    
    Review comments addressed:
    > g_list_free_full() is glib 2.28 while the configure.ac says we need 0.2.25.11.
    > We usually to a g_list_foreach(list, unref), g_list_free() so we don't have to
    > bump to very recent glib version.
    >
    > Also,I strongly prefer if you clear the queue structure, and not keep random
    > pointers around then using this boolean. Also, as NULL is a correct empty list,
    > you don't have to do any NULL check.
    >
    >
    > Patch: "tpl_text_event_{add,dup}_supersedes":
    >
    > add_supersedes() writes into a TplTextEvent, this is not allowed in the public
    > interface, move this function to text-event-private.h and prepend a _.
    >
    > > + for (l = old_event->priv->supersedes.head; l != NULL; l = l->next)
    > > +   g_queue_push_tail (&self->priv->supersedes, g_object_ref (l->data));
    >
    > Use g_list_next() instead of "l = l->next" for readability, don't worry it's a
    > macro, not a function call.
    >
    > > + for (l = self->priv->supersedes.tail; l != NULL; l = l->prev)
    > > +   supersedes = g_list_prepend (supersedes, g_object_ref (l->data));
    >
    > Use g_list_previous().
    >
    
    Also, I realised that my annotation (transfer full) was incorrect:
    Since I ref the object that is passed in, I think (transfer none) is the
    correct annotation (since I create a new ref rather than stealing it off
    the caller). Correct me if I'm wrong again.

commit 023fd3ba6e689cd720b8bbd4af7dbd3757162407
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-18 19:34:50 -0400

    get_message_timestamp: debug if timestamp is wildly out
    
    Hopefully, this will help CM authors a little.

commit ce54dc822df517b18cefa9169ea8f03e9946669c
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-18 19:25:59 -0400

    Test message edits that have broken timestamps
    
    Note that the timestamps on edits should be that of the original message
    if possible.

commit 4cc28a810191e51a2a83051f70b8015c7d73962d
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-18 19:23:53 -0400

    Add tests to cover messages arriving a bit/a lot late

commit ae10b027556b442d5c60f4c2a66fd7e95f29f307
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-18 19:11:53 -0400

    assert_cmp_text_event Change the order of assertions
    
    This makes things easier to debug, because the message is usually more
    easily identifiable.

commit 7d068438795698112418fdec301a186858204d02
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-18 18:53:48 -0400

    Store events in the correct file according to their timestamp

commit 607c71411c0046d169eca1483fc2510ee05381f9
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 20:21:17 -0400

    test_add_superseding_event
    
    a;
    b supersedes a;
    c supersedes a;

commit f796a5a882dd57f56b08be817d4d929643970d25
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 20:18:19 -0400

    log_store_xml_get_events_for_file: replace edited messages.
    
    This should support "b supersedes a ; c supersedes a" as well as
    "b supersedes a ; c supersedes b"
    
    Also, the list of returned events should only contain the most recent
    version (for backwards compat with dumb log viewers, as suggested by
    sjoerd).
    
    * make a event_queue_add_text_event responsible for adding the event to
      the returned gqueue (replacing the event it supersedes as needed).
    * use a GHashTable of {token: place to put message} for already edited
      messages, and check that first, then walk through the queue (starting
      at the most recent event) trying to find it.
    * add a dummy event if none can be found.

commit dc17262c8b8690801b76b62caa8d7cb78ad11a2f
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 20:06:38 -0400

    Extract an event_queue_insert_sorted_after utility function
    
    Like g_queue_insert_sorted, but with the shortcut of not having to search
    from the beginning of the queue all the time, and the simplification
    of knowing that we are always dealing with TplEvents.

commit 72da94f04198dc07f8161b54e56a336a29678255
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 19:55:57 -0400

    Store, save and test message-token and supersedes-token

commit 887a15b3786107bd1ac1110408fa3cfa4c9f7944
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 18:05:44 -0400

    tpl_text_event_{add,dup}_supersedes
    
    A list of TplTextEvent (intended to be in log order)

commit ea98862759782023b56bd13778c02e49b441f246
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-05-17 18:04:28 -0400

    TplTextEvent: add {message,supersedes}-token properties

commit f3446e21a099f719102631f66a0ea849df9ff610
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-05-13 14:39:37 +0200

    log_store_pidgin_get_dir: get the length of orig_id instead of id (#37176)

commit e266f28db961d3026404c72b21a6b6071a2d4e3d
Merge: 9edb997 c8da1e2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-11 15:00:59 -0400

    Merge branch 'trivia'

commit 9edb997d7d138b1666f19d82aa20aba238c65c4c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-11 14:52:42 -0400

    Post release version bump

commit c8da1e2a11c26d5b925a1c17e7a6fed9f81fca95
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-05-11 16:03:31 +0100

    log-store-xml: fix -Wuninitialized warnings
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9b9e4b12f7825dce352f9f48d6e829be30c7512a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-05-11 16:02:58 +0100

    all: fix -Wunused-but-set-variable warnings
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 67c955953493fa5ddac776defd23f1cad262eb14
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-11 14:50:10 -0400

    Don't leak newly created GError

commit 434cb20f817b8e2d1a95089e21d0b0102e9ee0b5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-11 14:49:52 -0400

    Send newly created error instead of old one

commit 45d18897530624860e0a8b6c2b8c7e20560f063d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-06 15:26:32 -0400

    version 0.2.9

commit c1dc060a22f7f1e7441a41a2ee0b38d695843a22
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-06 15:20:39 -0400

    The test file contains null bytes, not a dot

commit 2e8e46b5512f4e137368ecb3377cc8d7acb2e52b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-05 16:29:26 -0400

    Test that Pidgin store is robust to empty file

commit a7efd0d30918022e6221ee7cafb63705b3e3c528
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-05 16:29:03 -0400

    Make Pigding store robust to empty file

commit 260e43c90d77926327faad4488beb44e629b71a5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-05 14:59:57 -0400

    Test XML store get_events_for_date()

commit b7c0dac4ed3e3ba123f0b3f957d264194e990f73
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 12:27:43 -0400

    Port search_new() to multi file design

commit 1fa26710c533fb5cadbde872130a9669c09c04dd
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 12:09:41 -0400

    Port _get_events_for_date() to multi file design

commit c22ca3933c5ef47a19682e7809c03469b8018a1d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 11:15:40 -0400

    Port _get_dates() to multi file design
    
    This should improve significantly the performance as we not longer have to
    look inside the file.

commit ff5db3334038c4c996f7432363a4032fe60b4f3b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 11:14:14 -0400

    Extract filename regex creation for reuse

commit 14314bd21d31b8502e85111a6dabc6fa09a2f56a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 11:00:14 -0400

    Store call and text events in seperate files

commit 8c4ee8df013e287a7c71fb8f478d44df5b57d7e2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-04 10:33:21 -0400

    Set file match pattern into macro for reuse

commit 73ee844128530bda0e6d542ef087bf74f4cde697
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:26:47 -0400

    Test reimplemented exists() method

commit 3320caa61a874fac12b4733acd5db0149357da9a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:26:20 -0400

    Reimplement _exists for multi-file event storage

commit 758b4b2168d01b9bb68a9100333f33f613ced2f9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:25:26 -0400

    Add new entity with call log

commit b39ef3ec0ba73c2aca1b422c0e40672dabb9b009
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:24:47 -0400

    Add debug trace support

commit 9199c84267a438c99c0bac5f83119cbc14024bad
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:24:15 -0400

    Remove left ofter tempory traces

commit 01c93ae3a7c68a04b8caa3deb26168857d996313
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 20:23:57 -0400

    Cleanup includes fixing usage of " and <

commit c05b106fb723bad6c70e5880c15e9be6d53ff6e7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 14:39:56 -0400

    Remove call from supported types if call is disabled

commit c49bc4e6877f8deb11b3758a5ce52a1ee7a43d19
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-05-03 14:39:14 -0400

    Style fix

commit d733a671db441dc6ced875a860f9ba355c694680
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-04-29 19:16:59 -0400

    Fix missing debug trace for first pending message

commit ef7630df9f8335067b3800514ad0b1b26687a094
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-04-29 18:52:18 -0400

    Fix SQL syntax error and pending message order

commit 9294098aa6bf2694ca403c03179672caf2b3d0f3
Author: Jamie Lennox <j.lennox@neura.edu.au>
Date:   2011-04-07 12:40:27 +1000

    Downgraded autotools requirement to 2.65

commit 32ed64e6ac9c81359d5ccd3431ebb76c7584ce65
Author: Mateu Batle <mateu.batle@collabora.co.uk>
Date:   2011-04-14 18:37:44 -0500

    Fix client file to effectively observe Call.DRAFT channels

commit 5efb018a4a3c0bc2c1733c9c7933652e60680599
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-04-13 19:05:22 +0100

    Leak a single GTimeZone
    
    ...to avoid crashes when freeing them.
    See https://bugzilla.gnome.org/show_bug.cgi?id=646435

commit 36ed57c8558d233447d6497c197bfa5d48a14e8f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-04-01 12:06:44 -0400

    Fix spelling Wheter -> Whether

commit f14f51c6ad32593d0bb41e877ae21b0e27b78b72
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-31 13:40:44 -0400

    version 0.2.8

commit a3c5b572ce3e46102d2833b284c21eecd031ec85
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-31 13:40:29 -0400

    Fix wrong shared object version

commit b13c696a6aea9712182a0f4b1873dd5bbdfcd9a1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-30 16:55:24 -0400

    Post release version bump

commit f24e7bce2a0044076a02f31dfe7acb0381c59672
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-25 16:05:24 -0400

    version 0.2.7

commit 884c52dad5d5fb30a450b013b83aed306ed49164
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-30 12:08:35 -0400

    Fix infinit loop in pending message cache logic

commit 3895af7b6df288a0aa0417d28dc80a3af4ab2519
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-25 15:09:10 -0400

    Cast to gint64 before setting "duration" property
    
    Without the cast, a 32bit integer will be stored in the va_list, which
    will lead to a shorter structure and potential crash.

commit 854fe9602943ded67ca6e5e0963e9833864f066a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-25 14:29:15 -0400

    Fix typo when adding .client files to EXTRA_DIST

commit e7de54d4af99aa83672cb83c7b9bd45de55a5816
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 20:27:26 -0400

    Remove twisted from configuration summary

commit ce40a0be998624d881997cf251986973d56a4220
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 18:37:06 -0400

    Fixed test comment

commit 6172f2f472b9c94e8550f63bde8118d5d49928ce
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:49:17 -0400

    XML Store: use GQueue not list_append for performance

commit 7e70516c3d70e547387daa45126449c518a5fcef
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:44:08 -0400

    TextChannel: sort missed pending by timestamp
    
    It's better if missed pending message are stored ordered by date.

commit d4bd574125fc1c8ad9e3a75e656cf245ccc52769
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:43:12 -0400

    TextChannel: use g_list_prepend for performance

commit 6ec23dbb33ce40017e45df2bfc8b9a8b15f5783c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:33:10 -0400

    SQlite store: Use g_list_prepend for performance

commit 63e1e52b2c049ac8b337c72b7398c906a4aea10a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:21:35 -0400

    Avatar token can no longer be NULL

commit d5c1d96681dd5991031a0aa2d887bff2d6135690
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 17:05:43 -0400

    Removed broken editor instruction

commit 8479ac7b043854e2c88527783a6cf82f58070f97
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 19:09:32 -0400

    TplTextChannel: Remove broken comment, user_data not used

commit cd3122e00156a8cb16c27abd943326b4527a520c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 19:03:27 -0400

    TplEntity: Replace unkown with unknown

commit f1f8673bea54f69765c48aa71b217865562c0095
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-24 20:26:52 -0400

    Make Call support conditional to --enable-call

commit fef67aaec653f183c797597dd081bfc1e00cee6e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 19:23:49 -0400

    Implement call storage test

commit 29ee71548ed00054947ae76022f0fabc6602cdd5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 19:21:48 -0400

    Add private helper to serialize TplEntityType into a string

commit 8fb76e8733f2719c3f64e9baa0801ee9ef257798
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 17:24:48 -0400

    Add test coverage for tpl_log_manager_search_async()

commit 18171c60c9fe947de17f9594ae925dfd7bb73eab
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 17:03:44 -0400

    Add test coverage for _get_filtered_events_async()

commit a46c03d7a4fb3abb002e73e62f5ed67ea5984f0c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 13:59:39 -0400

    Reorder test to match header order

commit 466b5191a7ded570b4abb407decb37ed7c0ba8f2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 13:44:10 -0400

    Add tpl_log_manager_exists() test coverage

commit b06952cc726ad4d06cd11442591f94a987b9a04a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 13:35:25 -0400

    Add call support to log_store_xml_get_dates()

commit b853620d1a3ff7d60bff034078655f9787bfbf2f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 13:34:57 -0400

    Make regex matching in file a utility function

commit 0ebe30fabe59e96f551b1c037441cfc144ccc327
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 13:30:16 -0400

    Add call support to log_store_xml_exists()
    
    This implementation is not correct on purpose to ensure a constant time
    of execution. See bug #35549 for more details.

commit a424d13da48c702da518c117f4b9edff31659e08
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-18 18:06:18 -0400

    Add support to read call event

commit d1c8961f1eb530954fa97af8155091d436006bac
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-18 17:14:50 -0400

    Add support for searching call in XML store

commit d7844626f21999884f29307660af35245a52ea7d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-18 17:14:23 -0400

    Use regex instead of simple strstr to search XML

commit 9af6d6177c9659db9d0df6a6ddd9dfa83b48c2f2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-18 17:12:32 -0400

    Add support for TplCallChannel

commit 07560a5c0d0ea5281bc62b1651ab3e709e2980df
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 15:24:28 +0000

    Write Call logs to XML store

commit 042b98b372507c7f637edd0d9a6c2c2846eb0752
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 19:21:13 -0400

    Make avatar token empty string by default
    
    This avoid confusion when reading back from log store where there is
    often no difference between the empty string and NULL.

commit 7f2f8ff8762e098f049ec90c50cba4520c2d0a01
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 18:23:02 +0100

    Add TplStreamMediaChannel legacy call observer

commit 8d2e6cecb2c07bfecb40095519192d65cbc89707
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-21 16:25:59 -0400

    Add TplCallEvent class

commit f69caf20f673750c5a5e6b38a7af18e10c99d4e9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2011-03-24 09:36:40 +1100

    Readd AM_PATH_PYTHON back to configure.ac, it's required for codegen

commit 2846d8d0d6525f30c7a9b732ad9d92765e723e5a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 15:58:17 -0400

    Post release version bump

commit 92b1202e4859cf5b4707cdaece10182d5fc7b3cc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-22 15:48:09 -0400

    version 0.2.6

commit 9e5bd544a043c2c1a9fb59ef8b6bec413596023b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-21 15:12:15 -0400

    Update required TP-Glib version to 0.14.0
    
    This version includes a bug fix for sender property of
    TpSignalledMessage class. This is required for the logger
    to function properly.

commit 2b3a065a32e60344c111812b1f311af3a0d6b1f8
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-21 14:55:22 -0400

    Print something on error even if error is not set

commit 485d325a36dca067edbb7be4ae83e241d2db155a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-21 14:51:02 -0400

    Add missing return in error handling

commit 81abdb2bf7221f806f2f38a53f372ac257a74843
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-21 14:39:21 -0400

    Fix use of unitialized TplPendingMessage pointer

commit 1ce4e6f91e31b4f77bbb7c33addc771d73464e09
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-17 16:00:18 -0400

    Workaround style checker false positive

commit 5cdd1eb97a3dd9b1f4154682e47f5f5e7519bd83
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-17 15:59:11 -0400

    Remove unexistant file from Makefile

commit 56dbfc424254bb9970237b407bcfa1080151a94e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-16 21:44:17 -0400

    Use SQLite cache to avoid duplicates on logger crash

commit 18be97017eb658b14c5069bb17c03145f8dc3eb4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-16 21:43:48 -0400

    Don't crash if a log store assert

commit 0d81d6a44c1a13c93f2a5058336faf599e63ffc2
Merge: 1edb814 1522b7c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-16 21:43:27 -0400

    Implement pending message cache in SQLite

commit 1edb814180bf14aab4b1507ae02bdac04bed2436
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-16 15:05:16 -0400

    No need to channel members with TpTextChannel

commit 6542c1cfb2c7aa5ee23158ec54d52fb6cc9d19b4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-16 14:51:13 -0400

    Store initially pending messages
    
    This works as long as the logger won't crash. If the logger crash, it will
    log again the pending, creating duplicates. More patch coming to address
    the case where the logger crash and restart.

commit ba59d9abcdbd831792ef04be973b79a5827187eb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 21:45:03 -0400

    Port to TpTextChannel signal and TpMessage

commit 21ea56b893e9862df330bb705d10af1708db2745
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 21:44:31 -0400

    Allow creating unkown entity

commit 5c5447169754481188d0412bea88720935dfc773
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 21:44:11 -0400

    Bump required Telepathy GLib version for TpTextChannel

commit 5f674080ff0ddffc1ff08bab24246d5286d09ded
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 20:38:15 -0400

    Change TplChannel into an interface and port
    
    This change will allow TplTextChannel to inherit TpTextChannel, choose
    what feature it wants to be prepared. It also slightly change the action
    chain API to better fit GAsync normal signature.

commit 4e8209969d0a67299c5b2ff6beb21d4c482034f1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 20:21:24 -0400

    Remove empty channel test

commit d22370bdbe709776c9db9bf5771010e25cdc7050
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 20:20:55 -0400

    Removed twisted test has they have never been used

commit 409d2489387f7ae24befda9083e8f77032e12d98
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 15:42:40 -0400

    Remove unused pending message ID from text event

commit 05d6e6d865253c99f1a59e65130721c3e4598afe
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 15:38:10 -0400

    Port to Message interface

commit df2547d5205fff079db04fccf75b553a168aed22
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:34:17 -0400

    Remove log_id from TplEvent

commit 544ceced243f9cd5ba8dc7ba58719f4d67c1df02
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:30:57 -0400

    Remove log_id generator

commit f7345269930534d496c3a0d7ec1b4453e7ee4e79
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:29:35 -0400

    Remove log_id from text-channel

commit dab0ba5f43970fabb36f96b243668e607c0f2718
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:24:50 -0400

    Remove reference to log_id in log manager

commit 70127654690b9476abaf5abce2d0a3e59a7fab0a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:15:15 -0400

    Remove log_id from XML log store

commit 387475855e4044be828a7c09d7af8627babeb993
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:11:32 -0400

    Remove log_id from sqlite log-store

commit 3efa7d9943cf9930babba40fbcc4c12243ba46fa
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 14:04:07 -0400

    Remove faked log_id from pidgin log-store

commit 99c16da6a594478c5888e7fc3ee8b17b98cdb64f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 13:53:10 -0400

    Relax log_id requirement as it's going away

commit 7c0d7486779f93ab5f02e3893fc59db2bca2381b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 13:46:44 -0400

    Correctly implement event_equal
    
    The old implementation was relying on a hash that did not contain all the
    contain all the information.

commit 934c602751618019c79d592e899bb028e62cbf6f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 13:10:11 -0400

    Move _tpl_entity_compare into TplEntity class

commit 2cd78160f40fc43a79cc0c72bdb055cc61e5304b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-15 12:13:26 -0400

    Remove unused purge source ID

commit 797c84b10a34ac128b1eeb387d4e51a09a21e567
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-14 17:06:51 -0400

    Drop message_cache table from SQLite store

commit ab912305daaaa5bdc5029c21347641646ad2068c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-14 16:57:18 -0400

    Removing pending message caching

commit 1522b7c475399d0095d09da1d5c9ae2d462eb8e6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-14 16:43:38 -0400

    Useless message cache

commit 0e15f37026aab2dfc6a537f4682f2ebe3aa93079
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-14 16:42:06 -0400

    Port to Message interface

commit b07dfc15a92c3e6c435508f036a4dbec104411de
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 17:57:34 -0500

    Merge trivial get_room_info to get_remote_contacts

commit 8d560b34e27f4ef213af5fc20b1010d5346b5d92
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 16:33:49 -0500

    Update copyright and add me to list of authors

commit 64f324ad23950d2c6e62bee610aae241f821ab6e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 16:32:29 -0500

    Fix local header includes to use double quote

commit 631677c8a1eafcd84fe9f264b5f6c6c0464d2653
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 16:27:27 -0500

    Cache TplEntity instead of TpContact

commit 6bf45f6de4f613fef61dbe98c464c33478785e95
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 16:27:00 -0500

    Fix invalid read in pseudo observer test

commit 438db155a434d8d2584dc739882f1919be1ea325
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-10 16:00:00 -0500

    Properly reorder methods removing useless wrapper

commit 1c8dc3eaab53acc935f965aed51d4a4f4f0c991c
Merge: 7f725d6 7dbbb62
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-07 21:42:54 -0500

    Merge branch 'date-time'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 7f725d638c36dc9e77ee7d81f03025968d848a8a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 17:14:49 -0500

    Post release version bump

commit 47e33a26efbc79596294d27ff5207c826926d669
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 17:10:56 -0500

    version 0.2.5

commit 7dbbb62b3b748ce84033630549a50fe8c01b5e17
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 15:44:28 -0500

    Message a(sv) contains timestamp in signed int 64bit

commit fe3fcdc701e7ee091a10dcbe82af55ce3a7d14b5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 15:35:14 -0500

    Move _time_parse() to util and remove datetime

commit 968941a7c7d417b58743c19145a37beceeb6e2be
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 15:24:41 -0500

    Port SQLite log store to GDateTime

commit 0dbcccf1321b865319a898b5cfa6eb049e325d75
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 14:02:23 -0500

    Port _tpl_create_message_token() to GDateTime

commit 8fd8f7cdc575cbd35d85439a41c11f192f8763e4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 13:57:14 -0500

    Port XML log store to GDateTime

commit 3d88b24d03dc7c96983cba44a4952e29a0ef46a5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-03 13:56:57 -0500

    Port _tpl_time_parse() to GDateTime

commit ea4cb9e5d8118be4d922016e176f9cd583df5645
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-03-03 16:54:41 +0000

    Fix another 32 vs 64bits bug

commit a2f13dfa04500f10830909301c28b101d5ac417b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 16:51:04 -0500

    Post release version bump

commit ae70387efb4724def8ca9fa52ce943b32bccdaa7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 16:43:50 -0500

    version 0.2.4

commit ffa38e87f97e1fcc4940e45a9feff2e5e5546965
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 15:17:30 -0500

    Fix XML store test crash on 32bit machine
    
    The XML store was allocating event passing native integers as
    timestamp property, which was causing crash on 32bit since
    TPL timestamp are 64bit.

commit 9edfe9dfc29a640342ea61e2ee0b2cb4bb1623d7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 14:38:01 -0500

    Fix and complete ld.so supressions

commit 5033744e6115eddb01b77f63f0a6a28b407a34ed
Merge: 24ca5a2 7efb9a8
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 14:20:49 -0500

    Merge branch 'trivia'

commit 7efb9a8d35bf22a4b8c289684ef5591f03da9e94
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 14:15:37 -0500

    Moved sqlite test with dbus tests

commit 6ff3282cd5819897f7b8ad8cd60ca5b0ce1aef74
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 14:15:03 -0500

    Moves observer test with dbus tests
    
    Also removed unused dependency to TplChannelTest.

commit 24ca5a26c8365a326d2911cf590d48b75d6356d4
Merge: 3e1faa8 4e8b207
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 13:04:06 -0500

    Merge branch 'trivia'

commit 4e8b207a29871f4ddf13019d7ddb5e27430bef37
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 12:58:57 -0500

    Logger is now fully LGPL, no need to mention GPL

commit 7d0f14fa5dd076a62f1ac7ab724c41a7af5cfbf0
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 12:58:33 -0500

    Remove GNOME and GNOME_DOC stuff from configure

commit 93683700b327f2d07ff1e6c79ba2b0a178c7b31e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 12:46:12 -0500

    Initialise variables that get freed in out label

commit 3e1faa87ff12747526293e79fb7f9312c7877a49
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-03-01 08:37:56 +0000

    Make the introspection files be 0.2 instead of 1.0

commit c3b8e50621d0906abbbd6a98b5575609b6576c95
Merge: 35f4351 4b5b3f1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 11:50:35 -0500

    Merge branch 'master' of ssh://git.freedesktop.org/git/telepathy/telepathy-logger

commit 35f43513a8d3b211dde2e073cc4d46f54bf57d9f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-03-01 11:49:41 -0500

    Post release version bump

commit 4b5b3f1bbd0a1c59f9ebebc52828d4f99be7796d
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   2011-02-28 17:19:11 -0500

    log-manager: Add output annotations.

commit 5bacb8a5cf4e938632865615bd75c7e05ddc719e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-28 18:40:18 -0500

    version 0.2.3

commit c80e6d1e8e248de5a64a36e228882824294754a5
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-02-28 18:31:19 -0500

    Set an error if text event body is empty or NULL
    
    this prevent later crash as we where returning FALSE without setting the
    error. (fd.o#31121)

commit 01021eaf04b24688423f3ba35b2794b5841c08aa
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-28 18:31:19 -0500

    Set an error if text event body is empty or NULL
    
    this prevent later crash as we where returning FALSE without setting the
    error.

commit 0c3483b85b4a571175690a454cb5df0b11b5b3eb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-28 18:35:12 -0500

    Convert timestamp from uint to int64 on sent message
    
    This was causing issue on 32bit machines as the 32bit timestamp was
    passed to g_object_new(), resulting in a vararg structure 32bit shorter
    then expected by GObject.

commit f35da212884e566440d6a6f587e67cd8c4be656b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-28 18:18:47 -0500

    Post release version bump

commit 93615671cca23985114d27d23d833421ea01531a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-28 11:51:51 -0500

    Version 0.2.2

commit 47e7a121c37749e0d311913fc1145bd06c049348
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 16:41:31 -0500

    Add a XML log store test for add_event

commit 234c4f7db330c69d572d736d12f73272dd444591
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 16:40:57 -0500

    Change fixture->store to be a TplLogStore
    
    This reduces the amount of code since it is used as a TplLogStore
    mostly everywhere.

commit 604bb98b6eb10cb17f5aa751557d3fafdb894d0e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 16:38:22 -0500

    Fix _xml_get_filtered_events() to return num_events
    
    This method would return more the num events, and the the multi-backend
    code was fixing it auto-magically.

commit a5bc13981cecd0dee09e0ff1f0396c7ef10e3f23
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 16:36:02 -0500

    Free dates with g_date_free() instead of g_free()

commit f1d29d8b30284a2904e8ac36ec5f10de39c5612f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 16:34:21 -0500

    Fix is_room check in log_store_xml_get_events_for_file()

commit 5bc7d16b26821efeca99aa1a9bdaa5e9a1ef7365
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 12:45:17 -0500

    Fix logic to get target entity for rooms

commit b92300c6440e7debf489aac2ab090b9d20a28093
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-02-28 09:11:18 +0000

    Introspection: use $(LIBTPL_HEADERS) to get the public headers

commit bf4bc086e845056746654e91772cafd9c3704a63
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-02-28 09:06:13 +0000

    configure: say whether we're building introspection support

commit e472401b480a5ae5ffc11ff4e3ca88ecc47175f2
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   2011-02-26 11:42:19 -0500

    Start work on introspection support.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=34770

commit 944fe493d338c6ca9cfabe0f57c8e4b4a1715446
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-25 14:19:44 -0500

    Post release version bump

commit 628fd276e17153ed54e33e2ece079a3a96b5d805
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 11:29:50 -0500

    version 0.2.1

commit 2be08a05b3ba8d610acab5098b07740c36ee53f9
Merge: e2d6663 5105c0c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 11:26:59 -0500

    Merge branch 'tests-fix'

commit e2d666386638fef562769b7c4cebb3a957612f12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-02-24 17:04:40 +0100

    test-tpl-log-store-xml: don't ignore system() return value so gcc is happy

commit 5105c0ce3e94f9c912fda95a046b566cc4b68842
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 11:02:22 -0500

    Fix test_get_dates() to use GDate method
    
    This test was using g_free() to free dates. Also was sorting GDate
    with g_strcmp0.

commit 24288501b66b7b62a4357319b27f802b2a53f0ec
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 10:57:11 -0500

    Convert test_get_events_for_date() to _async() method

commit b8e6be9ef8577bdf56962ce3ba0e76338cec2191
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 10:56:22 -0500

    Convert test_get_entities() to use _async() method

commit 506dc7853644450f090040ad25c3d4078310efa4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 10:38:56 -0500

    Convert test_get_dates() to use _async() method

commit 0091145a98899dfc91e20312db9e53f6a5293c86
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 09:56:49 -0500

    Move non-test code on top

commit c0c21cf974aa0cdc1a59e2271a33306ef0b0beea
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 09:52:48 -0500

    Replace empty log-manager test with test-searches

commit e2d7d16d7e7ca112224eee2f5369371707b70c47
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-24 09:42:05 -0500

    Remove dead test code

commit 6d14b2b45c111bc99d6ecbbf81b30edbdd61a191
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-02-24 11:52:00 +0000

    Let glib allocate the GList element for us
    
    GList elements are usually allocated using the slice allocator, not pure
    malloc, but we can't rely on that. So instead of allocating the
    structure ourselves use the dedicated allocation function.

commit 3ac097b41291ad5fc83281b0519b90aa31244f3e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-02-24 11:54:22 +0000

    Post release version bump

commit 50ade52118f3f38ae4e3d36db45654511f17286e
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2011-02-24 13:49:06 +1100

    Sort entities to make test deterministic

commit 32e152fb296897e7da3faace99da11ac43abd215
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2011-02-24 13:31:44 +1100

    Don't pass time_t to g_object_new when property is guint64
    
    Causes an offset of 4 bytes on 32-bit systems.

commit ded2c843879c5f41b06c4cdce7da8bd630ebcee8
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:42:35 -0500

    Change for telepathy-logger 0.2.0 release

commit b32d667abf49d6615f21658e9ff120bbe556d775
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:56:42 -0500

    Comment the auto-magic script creation
    
    Nobody seem do know what those target does and they clearly
    break distcheck target so I'm commenting it for now.

commit bd527949eaf6e284eaff04da9a01f2fdbffe1943
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:40:36 -0500

    Add missing test script to EXTRA_DIST

commit e785c9f40749bbda577977ffd0d021b3dc661d24
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:38:01 -0500

    Set logs file mod so it can be cleared in distcheck

commit 9f16565732b2b19af6a2956b5ff57170b7fa3eda
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:36:30 -0500

    Add test logs to EXTRA_DIST

commit b30e90517de36e65b6bf3c8aadca4e81b44f6ab1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:35:00 -0500

    Fix extra whitespace

commit 7ea2e3e02dbb3de0669e1e235e145abadbc84a1b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 18:48:53 -0500

    Fix header installation directory

commit 7957a5d68693fe05a1a19b3b7718fadddc22ffd6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 18:47:42 -0500

    Doc fix

commit 88fadeebced917cfefbd250ed79096ab0f1f0ecf
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 18:47:29 -0500

    Fix .pc file to represent right version

commit 48f645941707de10afebf29a4f4cf400d523874f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 20:44:49 -0500

    Fix 'make dist' so it works

commit b633e7a173cff7005be3e2d24790dd9897d72007
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-23 14:41:04 -0500

    Fix double free in xml log store and unit test

commit a51796d7f3ed86ae5656ad58b98de64710a21270
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-22 19:34:48 -0500

    Introduce TplEventTypeMask to be able to select event type

commit 2fc6dc7fe60e1ea689557d464f45ceea2119cd73
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-22 18:44:15 -0500

    Make TplEntity constructors public
    
    Implement a generic constructor along with making public all TplEntity
    constructors. This is required now that the LogManager API require
    TplEntity object instead of id/is_room pair.

commit b24f7974e6afb33e03b986339fab4595b07e4419
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-22 16:21:19 -0500

    Fix valgrind support in tests/dbus
    
    This is just a quick fix, there seems to be redondant stuff between
    valgrind.mk and the Makefiles.am.

commit bf0ddf5880de6677cc7ad69f040651b256afd70e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-22 16:20:24 -0500

    Move away from id/type pair in favor of TplEntity
    
    In the first rework step, TplEventSearchType was introduced with wrong
    assomption. This item was merging entity type and event type together. To
    make thing simple, this patch replace the pair with a TplEntity object that
    contain all the required information about the Entity. This enable for more
    complete logs in the future and fix bugs where get_entities() won't return
    chatrooms.

commit ce34b27629ad00ebc5bf0e7ad7ec1df43e190f48
Merge: d7d54a1 52182e9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-11 11:55:00 +0000

    Merge branch 'remove-unused'
    
    Conflicts:
    	telepathy-logger/log-manager-internal.h
    
    Reviewed-by: emilio.pozuelo@collabora.co.uk

commit d7d54a11b8da1f4a93f458dad06637f98fdf97bc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-11 11:51:28 +0000

    Don't leak entity object in clear_entity

commit b6356bf6f1958d2ebd7544d32efa1fe925c61d41
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-11 11:49:28 +0000

    Fix log -> logs in docstring

commit e502f9477afb0a800b3a9f7201366360aefef046
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-11 11:48:08 +0000

    Remove unused error in rmdir_resursively

commit cd67dfe40b307f1294b8fc1e7e1bfb5c75f8d934
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 16:12:43 +0000

    Implement DBus method for clear_entity

commit 316f4e9fefe3a9fa2501ac9e1eb94a7889f4a323
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 13:44:12 +0000

    Implement XML store test for clear_entity

commit 6f8bc371ce28e125366dd0a7dca323c7ba5eddc2
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 13:27:00 +0000

    Implement clear_entity in XML log store

commit bbff08720f78a90de3adf536cdc5ddc165a73c13
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 12:52:20 +0000

    Implement clear_entity in TplLogManager

commit 99a5f1c66ee1f182387aff25bbe0e8b2d36c6e89
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 12:50:04 +0000

    Implement clear_entity in log store base class

commit 87cf2212042ad065d3ad64813ee11f6802d070e6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 11:51:49 +0000

    Implement DBus method for ClearAccount

commit aba66532850c2aaf68f919c130605bd58742fea9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 11:35:29 +0000

    Implement XML log store test for clear_account

commit 10c673c3e1e91a172ac16b9fccb180f4313b99fb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 11:16:50 +0000

    Implement clear_account in XML log store

commit 0bda6a9474ded4368217f42df552955f3fc6e4af
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 10:52:51 +0000

    Implement clear_account method in LogManager

commit 2a38f4c8975ff933e1790b7d50bd6c058b459c4a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 10:59:25 +0000

    Implement clear_account method in LogStore base class

commit 1193a464dcd8a50ed5e2b7922c57df104bb5aa89
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-09 15:45:13 +0000

    Implement clear method into D-Bus service

commit 811505242197e25a0534ab2e2fd6812bf512d1b9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-09 13:58:43 +0000

    Implement test for XML logstore clear method

commit fd085ea5f2310e2fc23a8c53b4e00f9e73641b0a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-09 12:10:02 +0000

    Implement clear method for XML log store

commit f89d14a18f2d1b8fd9759a3faf12119d2f35c787
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-09 10:34:04 +0000

    Implement clear method in TplLogManager

commit 97a1d04cf669f34ffa10715c644308e090ca574c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-09 10:33:30 +0000

    Add clear method to TplLogStore base class

commit c6f788591f2f77847ed9122f3ec8c2939c968e63
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-10 16:55:12 +0000

    Quick fix for logging chatrooms in chatrooms folder
    
    This fix is just to make it work. The real thing here is that
    TplEventSearchType should not be used where flags are not strickly
    requirement. Using TplEntityType or a boolean would make more sense.

commit 52182e96c4c1cb5eb3cef039a4d9a6b6b2f43562
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 17:00:59 +0000

    Strip off unused search_in_identifier

commit 74c45ca9b274ea2368fe210a6ce59d2de9bbabd9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 16:56:34 +0000

    Strip off GetRecentsEvents from D-Bus API

commit 9a7fa789f52da6c946a36ac2049016e2ac48f880
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 18:23:29 +0100

    Fix wrong max value for pending-msg-id property

commit fd737eece872a8ee675741998891bf95bbe9b757
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-04 17:42:04 +0100

    Debug message fix in XML log store

commit 74ebf91b6e95a8bdab87654c3c0ffd3526839005
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-01 18:08:50 -0500

    Style fix in TplTextChannel

commit a94a0d25f0c877d291cd27e0ce28e9f5ab53ca05
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 15:24:08 +0000

    Rename add_event_text into add_text_event

commit a1e4dc2831ef77e6b9bfb7a403a50d0167850c48
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-28 12:05:21 -0500

    Renamed TplChannelText into TplTextChannel
    
    This renames the subclass in a more natural and more traditional way as
    found in many other GObject based APIs.

commit 1b86f814607c2bc4564b30bca45cd05d5be02477
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-28 11:52:55 -0500

    Renamed TplEventText into TplTextEvent
    
    This renames the subclass in a more natural and more traditional way as
    found in many other GObject based APIs.

commit ee78f6df50691371095c16059f04002aee8dae6b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 14:14:51 +0000

    Make strv size check more explicit

commit 2f7537ad765aba1999746a92b941fe362544166f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:56:38 +0000

    Remove exta \ at end of line

commit f596bda56e6800d41267fd6cffaa9e11c6d9b7f9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:53:26 +0000

    Comment: s/Determin/Determine/

commit 0de05584523c3e5941c0d701494ba6a3605b6e41
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:52:26 +0000

    Comment: s/reveiver/receiver/

commit 5dc44daa7f82b271376249485b5de9599381dc4d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:51:15 +0000

    Doc: s/maybe/may be/ + log stores (plurial)

commit 40460972bad85701dcc10ec686348ea6f757ae91
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:47:27 +0000

    Style: remove space after argument pointer

commit a32bddb3fe8b2da80a8d717a1e8d97aafe32c167
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:44:13 +0000

    Remove unused self local variable

commit 679fb6b4fded4c642a712be7e1d19936be4fe052
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:35:47 +0000

    Fix missing space before parenthesis

commit c591ac2a7f3e661fa4de0397053e8a0dffb79e70
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:33:40 +0000

    Remove useless scope variable

commit 81025aef109e2284e08b767a92d40e5202b9ca99
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:33:24 +0000

    Use gchar instead of char

commit 9bc0f6a88444b5ba8ea098e3bce843d3df46898c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:25:47 +0000

    Style fix: no space after pointer *

commit bcec2f3bc57a739e3939f01ecbedbf9be941a691
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-08 11:24:03 +0000

    Doc: _get_pending_msg_id() self is a TplEventText

commit 4e7da01785d9bc1a6bf9ea7c4c29fedf997675f5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 17:45:25 +0100

    Refactored TplEvent/TplEventText
    
    Enforces using g_object_new() instead of the partial _new() method with
    loads of get/set. This imply removing all the get/set methods that are not
    strictly required, making the properties construct only and porting the
    rest of the code. This change also make "make check" work again. Some more
    cleanup is also included.

commit 93d6d3b94d970329097587a6f1759728b5d90d2f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 17:16:20 +0100

    Room can be deduced from the receiver type
    
    Rename and move is_chatroom from TplEventText to TplEvent and implement it
    by looking at the receiver type. Note that this breaks make check
    because none of the current log-store sets the receiver.

commit 43968ccc7adffadb899700d0dd82bd0fba1167ad
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 17:06:11 +0100

    Implement tpl_event_equal with log_id
    
    Implement tpl_event_equal() using the log_id and make it public. The method
    is still overridable in case.

commit f1e540486d8061d7c765528d5b016125b5919ffe
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 16:51:42 +0100

    Fix arguments naming according to conventions

commit 9d45de93b862274057e29fabe9809bb64063da17
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 16:28:32 +0100

    Make message-type public (bug #27621)
    
    Having access to message type will allow log viewers to display correctly
    message like /me.

commit 742b476790e198e0d5013068105f78ac95bf78ac
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 16:22:46 +0100

    Properly move pending-msg-id into TplEventText

commit 05bf9ab1a455a1020098afa184b19de59bd0b27d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 15:09:08 +0100

    Renmove TplEventTextSignalType
    
    The reality is that we don't do anything useful with it.

commit a2afd0418667ad6af016f751893ecb00cc137060
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-02-07 14:47:28 +0100

    Removed unsused TplEventType enumeration

commit e80fadbc3f1056d883da68d40fc1537c8109253e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-21 17:20:32 -0500

    Remove white space at end of lines

commit 43a75d595e948684876634c31c268e148b8c60d9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-21 16:58:21 -0500

    Move test-entity to dbus enabled test and cleanup
    
    As tpl-entity uses dbus, move it to dbus enabled test so it runs in sep
    dbus session. Also cleanup makefiles and headers so it all compiles well.

commit 576eee1b3eab56c874141733c728aa6be69da44b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-21 16:38:16 -0500

    Remove search_in_identifier test since it deprecated

commit 42a631433b87162cd7417a03a7b6ce2e9cea998a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:34:22 +0000

    gitignore tests/dbus generated files

commit 4045a4061d3a4d8ea5a5ae6ce72607ab4e9234ff
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:33:09 +0000

    add TESTING file, for instruction how to test modules (to be completed)

commit 7b0f697552829400077df776a2038fbccb0235ca
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:25:50 +0000

    Load TplLogStorePidgin at TplLogManager startup

commit 0e3eb48f14cc31f6f739ef9fe1d1d44778773707
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:16:49 +0000

    Add test/dbus testsuites, as tp-glib does.
    
    Importing only the needed modules from tests/lib/

commit c0720510d7a05450071090c78d89ca72cfc796ea
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:20:57 +0000

    Adding log base to be used for testing
    LogStoreXML, LogStoreEmpathy and LogStorePidgin

commit d08adb12b75b70caa50be717e99a73c7555898fd
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:04:20 +0000

    Add telepathy-logger/log-store-pidgin.[ch]

commit 8af984a2bc0f3c1c52779b36d7ab797e93d3481d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:16:28 +0000

    Add TPL_DEBUG="testsuite" to debug.c

commit 8124122957c408565e6126222f16f1675418e5f0
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-21 16:38:59 -0500

    Add test mode support to xml backend

commit d2d196870295a3f9f71466f229c9adb2d5753d56
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:27:55 +0000

    set "testmode" property only on logstores supporting it

commit 55076c2e9e1ec1f9fb02c16fc3b091eaa8182bab
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:29:40 +0000

    make LogManager's dispose() call parent's dispose() when finished disposing

commit 5b646333f9cf69bef43c7d78a9bddc6c985cc1e6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:33:54 +0000

    gitignore all tags files (ctags) not only the on in the root dir

commit fd02551f842645ff04527922908fd47e4e5344fe
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2011-01-10 18:09:54 +0000

    Fix outdated comment, TplTime does not exist anymore

commit a94c5e5cbc5c12e531ea677f1b7fba701e244f16
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-19 12:53:59 -0500

    Add test for _tpl_entity_new_from_tp_contact()

commit 26d77d70c6f7f52efb2dd7a829416015d87ee26c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-18 12:23:03 -0500

    Refactored TplEntity and added unit-test

commit 7439e7a8b2bd37141b7c1591bc4ffce8909bf6a6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-18 10:10:13 -0500

    Entity style fix

commit a91a32e0dbd0ccb80a5fe77a7f0811b442e9f439
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-18 09:30:00 -0500

    Remove useless cast

commit d231cfcdb6c55f68c21591164b3f9b04e4d67c08
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-19 15:41:14 -0500

    Renamed get_events() into get_entities()
    
    The _get_events() method was misleading. This function would return
    partially filled TplLogSearchHit that would in fact represent entities.
    This patch renames the function and return a GList of TplEntity.

commit 70830239041c8083808996fdd93904dbcb57b393
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-19 15:03:14 -0500

    Avoid copying lists when calling _finish()

commit 2e0bde37c0db1b2ddfaed89c1f8a11c2713ab976
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-19 15:02:33 -0500

    Don't duplicate code to free lists

commit 2036f29eeb05e9c4ea872f8716446f27c911834b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-13 15:29:32 -0500

    Use ROOM instead of GROUP to match Telepathy API

commit 447779b1d5f902acbcb5ecf70824ebbd273c44b4
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-17 17:50:08 +0000

    Fix typo

commit 544f2e1dd4dcaa055073090388997df23a4ffa54
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-17 12:43:57 -0500

    Downgrade required autoconf to 2.66

commit a1d736e53f8fca0868bd4f7b6d656d92acae53f6
Merge: 3e3feee 3542bdc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-17 11:15:24 -0500

    Merge branch 'remove-direction'

commit 3e3feeed8134986b55c7772426c61b43bee9949e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-12 16:27:18 -0500

    [Doc] Don't document private func. & fix typos

commit 8e7c776d9a8e89e3f0ded40d763605a67b4ba6fa
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-12 16:13:24 -0500

    LogManager style fixes and functions order
    
    Did some style fixes and reorderd _async and _finish function to be
    in a natural order.

commit 3542bdc02e3e998a161f558f4430c9fed88d9b44
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-17 11:06:56 -0500

    Remove TplEventDirection
    
    TplEventDirection was redundant with the TplEntityType of the sender. In
    all cases, if the sender is SELF then it's an outgoing message, otherwise
    it's incoming.

commit e0e1fc91d7bcfcd40d2ea82d0202cb8e3ffcdf54
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-15 23:02:24 +0000

    Update build system

commit 0b684aa8069fd513f5c5b46e5a5845aea876d5fa
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-15 22:40:59 +0000

    Remove TplLogSearchHit.filename

commit 380346b0a1f771d6beb496f61158cb1429c37127
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-15 22:23:19 +0000

    TplEntityType: chatroom -> room

commit 67ba30f043b07839fb6a7d25f26d6684421916e0
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-15 22:16:38 +0000

    TplEvent:chat-id -> id

commit e8d542227517105a3d35723ab1028f85ab691837
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-14 13:13:21 -0500

    Added g_type_init_with_debug_flags to suppression

commit 539a135861699eed057511f753ba8793c07f53d5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2011-01-10 15:58:13 -0500

    Renamed TplEntry* into TplEvent*

commit 8a360611f67ba10f0a4189ef54fe644d822002d7
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 22:19:18 +0000

    Adapt the tests to the API changes

commit c5f4cc13bb7d5460b8d3cd738eec6ffca0fb3629
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-10 09:00:14 +0000

    Adapt the text channel to the API changes

commit 33ce572881b8072034fe0566ad4047f32fdeef95
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 22:15:22 +0000

    Adapt the sqlite log store to the API changes

commit 8ccc8376386c28fe631aff563b2c4f72ffe8fb70
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 21:57:16 +0000

    Adapt the xml log store to the API changes

commit b4df92c6c79bbcc9c7ec1cb3bf81ac9d5eefe9cc
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 17:18:59 +0000

    Adapt the log store interface to the API changes

commit 0842629f51aff9b3ee06e7b5094136e9b28faa4d
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 17:04:16 +0000

    Adapt the dbus service to the API changes
    
    This changes the GetRecentMessages dbus method to a new
    GetRecentEvents one, with a slightly different signature
    (type argument instead of is_chatroom one), similar to the
    C API changes.
    
    Bump the interface version since this is a break.

commit ffba9e0559cc8a1445d6b85ce0dda6f4a248c202
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-05 23:35:17 +0000

    Adapt the log manager to the API changes

commit 651f5d690e358d7377c3231dda4fe503d203c10a
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-05 12:32:32 +0000

    Make log-manager API generic and not chat centric

commit 6ab27850e5c44d35e8efc01919c4a1be28bd2df5
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-06 22:00:46 +0000

    Fix a memory leak in the xml log store

commit 453d50189fab2c50d34239ec0a30a694d73fac00
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-05 23:38:37 +0000

    Minor optimization

commit 10c50dec35e95a9272ce77f9dc182beabcce0ec5
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-05 23:36:43 +0000

    Check for events in the readable stores as documented

commit 92601850db0c69908be898df50350bf3167319c6
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-03 20:33:20 +0000

    Avoid freeing random memory
    
    If the TplEntry isn't a TplEntryText, we jump to out and free date,
    which is uninitialised, causing memory corruption.
    
    ==19750== Conditional jump or move depends on uninitialised value(s)
    ==19750==    at 0x62BB792: g_free (gmem.c:262)
    ==19750==    by 0x4E5005E: _insert_to_cache_table (log-store-sqlite.c:777)
    ==19750==    by 0x4E4F8D2: tpl_log_store_sqlite_add_message_cache (log-store-sqlite.c:603)
    ==19750==    by 0x4E4FABA: tpl_log_store_sqlite_add_message (log-store-sqlite.c:667)
    ==19750==    by 0x4E49613: _tpl_log_store_add_message (log-store.c:162)
    ==19750==    by 0x4E4586E: _tpl_log_manager_add_message (log-manager.c:301)
    ==19750==    by 0x4E38307: log_call (channel-streamed-media.c:609)
    ==19750==    by 0x4E37B57: pendingproc_log_call (channel-streamed-media.c:519)
    ==19750==    by 0x4E35402: _tpl_action_chain_continue (action-chain.c:123)
    ==19750==    by 0x4E37B29: pendingproc_connect_message_signals (channel-streamed-media.c:510)
    ==19750==    by 0x4E35402: _tpl_action_chain_continue (action-chain.c:123)
    ==19750==    by 0x4E37221: pendingproc_get_room_info (channel-streamed-media.c:317)

commit 45767c759cb8a86bdd17b6f297f33108ad1cac8c
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-03 20:30:59 +0000

    Don't continue adding a message if there was an error
    
    The GError may be NULL, so we need to check the return value
    to know if the previous call succeeded.

commit 23fa63536b5c9e1e783d52190dfbb9a389981186
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-03 17:46:34 +0000

    Fix typo

commit fe8a2b056dc6dffc2863b6cf8704ea6ae7181c28
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2011-01-03 17:28:57 +0000

    Remove unused summary entry

commit 75a9bbffaa0e6c774a31c2f61fe73bbc40378a79
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-24 19:00:57 +0000

    Move text signal types from TplEntry to TplEntryText

commit 58e4e7a9daf2bfddd113a37c92bd9ce356a35fe3
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-24 18:54:50 +0000

    Use TPL_IS_ENTRY_FOO to diferentiate entries

commit e1d4be017898b2524088ad11b97feb8a2699f9a8
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-22 23:56:36 +0000

    Set the program name

commit f47f94e1c983b8cd96d37b7fa80d3ef4b7dfd897
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-23 15:58:11 +0000

    More typo fixes

commit 972eb60d03e7d67befc59de2823d6fa903c6a6e6
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-17 18:51:48 +0000

    Typo

commit 409e1c8fa29acb59e4809d750beb11a9b53c90d3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-07 16:48:37 +0000

    Fix the definition of DEBUGGING
    
    (This isn't Gabble.)

commit 8f93444b1da58ac9bf16e917c4133607595a28ca
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-06 18:39:51 +0100

    Free strings with g_free

commit 356df312d3626d7a8889305d375a0fffa4790ff6
Author: Emilio Pozuelo Monfort <emilio.pozuelo@collabora.co.uk>
Date:   2010-12-06 18:32:24 +0100

    Don't free the search results if there are none
    
    https://bugs.freedesktop.org/show_bug.cgi?id=32140

commit 9a9e8dee9f54d1562edeabfcc872f2b7f26a15c1
Author: Vitaly Minko <vitaly.minko@gmail.com>
Date:   2010-12-06 18:17:23 +0100

    Escape the search text before searching
    
    https://bugs.freedesktop.org/show_bug.cgi?id=30414

commit ef8707a3ad5fc38cce185e41b5d4b6b68380f9aa
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:   2010-12-06 16:18:11 +0100

    Handle the error instead of aborting the logger
    
    https://bugs.freedesktop.org/show_bug.cgi?id=31510

commit 8ccbb77e4dc5852633fc6a656a5027852f6509fd
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:   2010-12-06 15:41:21 +0100

    Check if we could open the log file before writing to it
    
    https://bugs.freedesktop.org/show_bug.cgi?id=28795

commit f306a03d96c7dca363d0b9049ba3954bdaf8c58f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-29 13:35:36 +0100

    set nano version

commit adc95283bb8b38650adb32f7fd67f6ed0f5b7c3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-29 13:24:39 +0100

    prepare 0.1.7

commit 071ac55dacc674d53e93677c4bd36594b38205a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-29 13:28:40 +0100

    stop assuming lists have to be not NULL

commit 6163467b9e155238b37e903816c93ae99a6b4b13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-29 13:02:34 +0100

    avoid calling purge_entry_timeout: after the store has been destroyed

commit ef9a41a48267e00d9f32e9ac42f858a4f8e25379
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-29 12:44:28 +0100

    _get_filtered_messages_async_result_free: NULL is a valid list

commit 74bb3d1d53a7cd5fa0f3d627ee504a12f09777b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-24 14:26:03 +0100

    log_store_xml_get_chats: remove useless (and retarded) iteration on hits

commit 3d38b481aeb7e74b4cdc21325b9a02abe2d0cc7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-24 14:25:00 +0100

    _tpl_log_manager_get_chats: properly free the returned list

commit 1f63888f1dd81b6f5ab2bb8643fcff65f640edc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 17:07:05 +0100

    tpl_log_manager_chat_info_free: don't leak the logentry and search_text

commit 9e54be0e25ecd65cee5d0a7a8d3667653128bc08
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 17:00:36 +0100

    tpl_log_manager_chat_info_free: use tp_clear_*

commit a45f892928636642a78bb8d50a3fc3d7ccff153f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 16:57:36 +0100

    Copy the returned list in _finish() functions
    
    Now that we don't leak the result any more, the list is properly freed when
    it's destroyed. That means we have to make a copy in _finish() functions as
    the caller get ownership of the list.

commit 40c56bb226976d5046bd043f3950bdf1c5acb213
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 16:52:03 +0100

    _get_dates_async_result_free: the list is a list of GDate, not strings

commit d31b11f9a972b509f00fdd565cccdff8e38ec873
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 16:51:18 +0100

    factor out copy_date()

commit 13669d2508f1a8caacc838ea1bcd45f42ee1fbc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 16:50:41 +0100

    add _tpl_log_manager_search_hit_copy()

commit 2ca2168a92af8568e9f4c22c72463779c707d6fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:39:18 +0100

    entity: don't leak log_id and channel_path

commit 2ab8b635056fb0b1cf0c1dcc17ff9232a4bbd143
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:36:15 +0100

    entry: use tp_clear_pointer() and tp_clear_object()

commit 73c564c6f5a99ec0e33abc164d2fb7cfff5597d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:33:58 +0100

    entity: don't leak the avatar token

commit ed698faa22b7d3fa46b5104ffdaede5c33807c6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:33:21 +0100

    entity: use tp_clear_pointer()

commit d349ec07c389d0cf867aa90b19062b55b3170b5b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:29:27 +0100

    don't leak GSimpleAsyncResult in async API
    
    g_simple_async_result_run_in_thread() keeps its own ref on the result so we
    can release our own.

commit 3383ca6064c93420bd2b3f9613f7a9d72fe48943
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-11-23 14:15:51 +0100

    log_store_xml_get_messages_for_file: don't leak log_id

commit 3c048cdea0a92cff46a2d51e8b34b5b133151ebf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-17 17:18:22 +0000

    fd.o #31663: use tp_dbus_daemon_register_object to avoid tp_get_bus()
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit f10c9e9139d18a85c4d8ef67f7118f795c172dbf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 14:36:02 +0100

    Bump nano-version to 0.1.6.1

commit 19fbc0d5820ce56b987d9d1f2ebf96e5e52560cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 13:50:17 +0100

    Version 0.1.6.
    
    There have been no API changes since the last release.

commit 1aa81d78cdcf873165ad2c92ccea1da85073f938
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 13:49:42 +0100

    NEWS for 0.1.6.

commit 438c3bfb03a98c1bfde12640ef4023188c657272
Merge: 48eebc0 3b3b92f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 12:23:21 +0100

    Merge branch 'fd.o-30824'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3b3b92fb7c369a0b23276d276ae91ad92b24c20a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 11:02:26 +0100

    Ensure we always return from ObserveChannels
    
    If we chose to ignore any of the channels passed to ObserveChannels,
    we'd previously never hit zero, and thus never return. In particular, if
    there was only one channel and we ignored it, we would never even check
    if we're ready to return.

commit 29c76ba3085e2bc30f816160c2e0562eaeffb590
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 10:51:23 +0100

    Clean up connecting to text channel signals.
    
    There's really no point in logging which signal we failed to connect to,
    because the reason will always be the same: the object is invalidated,
    or the interface in question isn't implemented. Plus, there's no point
    in trying to carry on if we'll ultimately bail out if any errors
    occurred.
    
    So, let's just bail out as soon as we encounter an error connecting to a
    signal.

commit c2168e05f0396eafd8ce9b63d134f94553341219
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-13 10:39:29 +0100

    Listen for text channel invalidation, not just Closed
    
    If the CM crashes, the Closed() signal will not be emitted for a
    channel. This previously left the logger believing it was logging a
    channel, when actually it wasn't.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=30824>

commit 48eebc053edd754a5b601e1993b497ad1912438b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-08-27 12:03:16 -0400

    Fixed out-of-tree compilation
    
    Fixe path to config.status from srcdir to builddir and Added missing
    -I $(top_builddir)/extensions.

commit 4760b61dcce9869c6371d56519248a0aef91c0a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-17 11:49:44 +0200

    merge PL and LIBTPL libs together

commit edffd033360fc76eafaaf8631725057577540c7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-17 11:06:18 +0200

    simplify LIBTPL modules checking

commit 51bf4c07c2700733588a843773db93003c86c35d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-08-12 12:18:50 +1000

    [conf] support a new env var TPL_TEST_MODE that doesn't enable GSettings
    
    Use the env var to enable 'make check' to work.

commit aabebba781b28909568f1b14da3bcc4500c8f27c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:44:49 +0200

    start dev of next version

commit 86e753bf8a16d72f25fa678e4980433c2fe12aa9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:44:32 +0200

    Revert "Remove tests using GSettings for now"
    
    This reverts commit 3dc641c316ef08fecf891d60b5b4551f7f346c3f.

commit 3dc641c316ef08fecf891d60b5b4551f7f346c3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:41:06 +0200

    Remove tests using GSettings for now
    
    They are broken because of fdo #29503 and I need a release now.

commit 6b1865113719abceba8d4246d07abdb0e7c66fbc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:38:25 +0200

    Revert "Disable tests for now"
    
    This reverts commit 293fc666de0083eb0a81ab083c92a74070229d96.

commit 293fc666de0083eb0a81ab083c92a74070229d96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:31:37 +0200

    Disable tests for now
    
    They are broken because of bug fdo #29503 and I need a release now.

commit 7a033b2d3caf92f3b1d3820b65f591c9e50b1c28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:30:25 +0200

    _tpl_time_get_local_time can be static

commit 461341f8489b1de73aee609f3830a8865f885c21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:29:06 +0200

    remove unused _tpl_time_to_string_relative

commit 0f563d500a73db4a601a1f09f374d68645bf0d9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 13:24:40 +0200

    move  to nodist_libtelepathy_logger_la_SOURCES
    
    That way it's not checked by the coding style scripts and generated files are
    not shipped in the tarball.

commit 3ccec9d9f74600a40705dabc39ba0bedc31cd198
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-11 12:59:27 +0200

    prepare 0.1.5

commit 20919a8f6a2b4c997bb77c9d8bd8ee176978207e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-14 14:52:09 +0200

    tpl_log_store_sqlite_get_chats: use _tpl_log_manager_search_hit_new
    
    Also set the account of the hit.

commit a682d5f16729441a56affa947637987243f853ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-14 14:43:25 +0200

    log_store_xml_get_chats_for_dir: use _tpl_log_manager_search_hit_new
    
    Also set the account off the hit (fdo #29058).

commit 32734078f899a8ee87351c034bde498c10fa0cc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-14 14:29:31 +0200

    log_store_xml_search_hit_new: use _tpl_log_manager_search_hit_new

commit b483f64c57c77a14542bae8b54e688efb282dd3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-14 14:23:57 +0200

    add tpl_log_manager_search_hit_new

commit b5c75d1427067d7eef7301d208a7d496b64ee2b8
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-19 14:47:31 +0100

    Ignore messages in LogManager when logging is disabled instead of in the Observer

commit 3745787733fc7fd57b20667c3042c2abdcd178fe
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-19 14:46:56 +0100

    Add globally-enabled property + notification

commit 3398e2f2f6cd6645ff862da717185fdd9f591989
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-19 13:50:56 +0100

    Remove ignore-accounts
    
    Based on feedback from Simon and Guillaume.

commit f0d5ae23e52e45a5eb2a20d95135309065d9238d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-16 16:44:15 +1000

    Add a TplConf::ignore-accounts-changed signal

commit 30b0ce878d6cb3837b9cd207eb98f873ed553dbf
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-17 13:42:22 +1100

    Add GLib marshaller generation boilerplate

commit e33326c778398a954e16e33e338eb9bf1ff6ef14
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-16 14:28:35 +1000

    Port TplConf to GSettings
    
    set/get_accounts_ignorelist have not been implemented, and just ifdef'ed out,
    because nothing uses them at this stage and the API might want rethinking
    before we implement them.

commit 0aa8853161890069528ed10b8ecc22b4690569fa
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-16 13:54:20 +1000

    Convert GConf schema to GSettings schema

commit fbb4f0aa1ccd2d9ee53fbca918b161859740891d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-07-16 13:53:42 +1000

    Add intltool infrastructure

commit 3dbc4c45a669e947eaad4af33055dc076dd0859e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-08 16:14:04 +0200

    start dev of new version

commit 66586101c171438f4fbc3700c283f7a5191d0528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-08 15:31:12 +0200

    prepare 0.1.4 release

commit ad8056491c7f46c5c2583fa3a291efba9385ec62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 14:18:57 +0200

    fix TpContact leak (#28903)

commit 35ff9454674f766d5d8f89286b1092b44868dda4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 14:02:29 +0200

    observer: ignore channels that we are already observing
    
    telepathy-idle announce twice channels we receive from the bouncer. That's a
    bug (fdo #28918) but as a result ObserveChannels() is called twice.
    
    We should ignore those rather than creating a second TplChannel which would
    destroy the one we just created.

commit cd3d4fce75d731ac98037dc3c87b566ffd1998e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 13:59:48 +0200

    Store TplChannel we are preparing into a hash table

commit b1aeef1cc67f64ac5cfb8d961945ff401abaebf9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 13:36:54 +0200

    remove tpl_observer_get_channel_map and rename hash table to 'channels'

commit 20d8caa264a50d0379611bd98c271a973c10cee1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 12:32:13 +0200

    _tpl_observer_register_channel can be static

commit ea5071e001f57d909ea51aceb7d3eec4cb895383
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-05 11:56:07 +0200

    always pass a weak pointer to tp_connection_get_contacts_by_handle

commit 61595266cdc2ea36079509c819c5808ebeeb512d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 14:41:27 +0200

    set nano version flag

commit 7ab46391f5ca7b44662ce3e6f650b50e00233bdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 14:32:48 +0200

    prepare 0.1.3 release

commit ac51cfaa44521bacdfb2c8daf5952b4576579b0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 14:06:10 +0200

    Don't cleanup stale log-ids when preparing text channels
    
    This takes a while as it involves lot of SQL comments and slow down the
    dispatching of channels (fdo #28787).
    
    According documentation of this function that's just an optionnal
    optimisation so disabling it won't hurt.
    I opened fdo #28791 about remaning issues in this code.

commit ac1e90143ed7bac237538e4750ae7a6ef9a4b354
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 12:55:42 +0200

    Logger.client: add Recover flag

commit 7b5e47bb0311dff7a9469c4128afd317c1b83f21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 12:37:22 +0200

    install the logger to libexec

commit f341ebddb803a615868a2a6645bc73e39ec12900
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 12:35:21 +0200

    Set an empty list as default value for the ignorelist gconf key

commit 33df3bb1cc1d837458023ba33b4b3015cc01a21a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-28 12:30:09 +0200

    use the channel specific handle if any

commit e04ef146ecfdf81e29f04a5d35085f291e0f49f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:48:46 +0200

    use tp_value_array_unpack

commit 4118335fa2a357be6d14a18ae34fa178d962bd71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:39:35 +0200

    wrap big lines

commit 88da1cb9c683c534ab63a0f050f2ec82f5cbb770
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:36:52 +0200

    get_self_contact_cb: no need to get the observer

commit 1b9a7e2984e98ae5acebb7964a826330fc8234c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:34:17 +0200

    Simplfy settings of chatrooms info

commit f3939391de4863b81c753678569f0522b1500531
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:20:58 +0200

    No more need to get the remote contact separately
    
    This is done in pendingproc_get_remote_contacts() now.
    That also allow us to remove this bong selector thing.

commit 9fb0a05094e0f0ddf5ea299e096d1b283ef5b618
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:14:21 +0200

    on_sent_signal_cb: use the contacts cache

commit 3b637e7d08a3c659b2a8258acc6a12595820e2cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 16:06:15 +0200

    Use the contacts cache when receiving a message
    
    Also update the cache if the sender wasn't in the cache.

commit 172fea126665aa8765f86d65b3e07697dce085aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 15:58:18 +0200

    channel-text: cache TpContact of participants (fdo #28680)

commit a7471db0edcb31925db7fe01da65320307a30da2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 15:13:58 +0200

    Use tp_proxy_prepare_async to prepare the TpConnection

commit 4eddf1c16daca14eb9a4f2c845dd06693a789f65
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 15:07:47 +0200

    Use tp_proxy_prepare_async to prepare the TpChannel

commit 91078223d074e3a6227940190667805ce94eb8b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 14:51:25 +0200

    on_received_signal_with_contact_cb: no need to set the remote contact
    
    In the 1-1 case we already set it when preparing the channel so this was never
    called.

commit 2329f706b417d22b853fa94bd7406190dbb1a5e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 14:49:24 +0200

    remove unused functions from the internal API
    
    Also reorder some static functions so we don't need prototypes.

commit 8a56d314ccfe4db85b1a6be78b5452d6c757e18c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 14:32:48 +0200

    rename pendingproc_connect_signals to pendingproc_connect_message_signals

commit 1a0d77905d57a0b10336499f351ce026145aa79e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 14:20:15 +0200

    Wait that we get contacts before connecting signals
    
    Callback of these signals assume that contacts have been retrieved.

commit 29d3ec96ec4fc72feda019fdbda6c5a79a0f40c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 14:10:02 +0200

    remove useless prototypes

commit 569873393d4f4ca322d9ca004196ed6e2956cd4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 12:31:59 +0200

    entry: re-introduce the 'account-path' prop but as read-only
    
    Clients are not supposed to create their own entries so they don't have to set
    this property.

commit 468385b3e584f0fd6e6431651401f4908564e3bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 12:15:02 +0200

    log-store-xml: reuse existing TpAccount instead of creating a new one (fdo #28682)

commit 2d5093ec7ac2b9f6995f7fe6952e5d03df4cc00e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 12:10:56 +0200

    add tpl_entry_get_account

commit 409112884116e87ebc94ae4403ad7c4e60e5877c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 12:01:56 +0200

    entry: replace the 'account-path' property by the TpAccount itself
    
    Strictly speaking this is a API break but Empathy doesn't use this property
    and I kept the tpl_entry_get_account_path() method.

commit a33ec0087f9391fcd776fcfc688953ba33023ca5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 11:59:38 +0200

    remove test-tpl-entry.c
    
    It's doesn't test anything and we should replace it by a proper test using
    fake services and stuffs.

commit c1d87b39f4a2adeec9333e89d9268b266778230a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 11:54:06 +0200

    depend on tp-glib 0.11.7
    
    We need it for tp_clear_object().

commit f97cd6b751bd9b6cd5626adf26ed70b3de0af732
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 09:55:20 +0200

    log_store_xml_get_dates: use g_date_compare to sort dates
    
    Dates are GDate and not string any more.

commit de64cfe28a40e780b338a4b6265552e53d81cda2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 10:57:38 +0200

    Don't use remote contact as sender in chatrooms
    
    As said in a comment, the remote contact is only meant to be used for 1-1
    chat, not chatrooms.

commit 17e01673ba01141018877f1e79efa1712c7ed7ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-23 10:16:39 +0200

    Properly check if the sender is the self user or not

commit 10613bd90112a952769db7d34d9e802c9db7f4ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-22 14:06:34 +0200

    always send debug messages to the debugger
    
    The comment was actually false, this is the only place where we send messages
    to the debugger.

commit 50efd39bbc95cd25d5b22f9b2fb2ef447c502147
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-06-19 19:01:41 +0200

    Rename 'link' to 'l' to fix build warning

commit 06083af0cb849bca8adbf40356f3cf5fc40cd98f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 17:13:42 +0200

    start dev of 0.1.3

commit 55aa35331931a3f1224054e24e830e68400e6da9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 16:51:08 +0200

    prepare 0.1.2

commit ba630888f4cef7c00e305256a0950c3f8f02f5a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 16:41:58 +0200

    COPYING: remove first paragraph, everything is LGPL now

commit e9ec186de49c8424f141c50c4635788f7657611b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 11:56:30 +0200

    relicense to LGPL
    
    All the files are now LGPL.

commit 9206cd38105162416847e71c91d471cb825005ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 11:52:53 +0200

    log-store-sqlite: relicense to LGPL
    
    This file was based on log-store and log-store-xml which have been relicensed.

commit 213f39e8366737b8a07a2a631592942f02d1995d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-18 11:50:58 +0200

    log-store: sync header with Empathy
    
    empathy-log-store has been relicensed to LGPL:
    http://git.gnome.org/browse/empathy/commit/?id=b0eb7b2baf39cd5a509668bc53e5e34d70cb255d

commit 434a5f49d1e77a491a46c1c48ff547eedd613347
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 17:55:27 +0200

    log-manager: sync header with Empathy
    
    empathy-log-manager has been relicensed to LGPL:
    http://git.gnome.org/browse/empathy/commit/?id=b8c3e1f86a5982c06a63116a6dc98a9b583b468c
    http://git.gnome.org/browse/empathy/commit/?id=f748067f6fa10635261313a28e0a0102168de91e

commit f299b31ba0f74c3fa0c5e5f51b57e82f6878989d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 17:51:23 +0200

    log-store-xml: sync header with Empathy
    
    empathy-log-store-empathy has been relicensed to LGPL:
    http://git.gnome.org/browse/empathy/commit/?id=8728a86cda80fe0b824a8cb87b91db8eb1a2b99f
    http://git.gnome.org/browse/empathy/commit/?id=f9894b899100467c88b3cf6b218df704d49647c2

commit cceec9213e28cf6a93d8fb9010536282f6d462b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 17:47:04 +0200

    datetime: sync header with Empathy
    
    empathy-time has been relicensed to LGPL:
    http://git.gnome.org/browse/empathy/commit/?id=aeb4b0095d9685e8c40e4a86144f214caf3c63e8
    http://git.gnome.org/browse/empathy/commit/?id=ae842e153796a77dccc171254625793acf754c3f

commit f56f3b98e23cff93fdfef0c308b48dda25879cd0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 16:25:33 +0200

    don't log messages with the Rescued flag

commit 4a53ffc99ce2e7abc1886400d888c583e4dce907
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:57:18 +0100

    Explicitly link telepathy-logger-debug to libdbus and dbus-glib, too

commit 0657853f03d63d6e9cf2509e258a8ff0a4467627
Merge: 062ebf8 2d55234
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:48:27 +0100

    Merge branch 'libification'

commit 2d55234900a3189041ab58f01630bd4875f7bdb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:44:09 +0100

    Use the right LIBS to link telepathy-logger
    
    It uses API from libdbus and dbus-glib, which it accidentally picks up
    from telepathy-glib at the moment; however, we shouldn't rely on that, and
    GNU gold (and Fedora's patched GNU ld) have more pedantic defaults
    (equivalent to -Wl,--no-add-needed).

commit 9dd3767aac7dcca3429839b384425164147918ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:40:50 +0100

    Set a SONAME for libtpl-extensions.so.1, if built

commit 9fc2fb64a4aae97caa4ea189479ebd4fdf96a9d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:40:24 +0100

    extensions/Makefile.am: use LDFLAGS correctly
    
    LIBS shouldn't be in LDFLAGS, they should be in LIBS or LIBADD.

commit 062ebf813ed355a87ac5c685c4d915f6748f0bce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 15:29:58 +0200

    update gitignore

commit 2c92ca309f9a8cfe71acab8329ef5d42867cfa2a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 15:29:12 +0200

    add telepathy-logger.h

commit 059f39b5b444b7566b6da3d2eddd179c79239dbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:28:30 +0100

    Set a proper SONAME for libtelepathy-logger.so
    
    We've already had prereleases that built a shared library claiming to be
    ….so.0, so to avoid confusion with those, start at ….so.1.

commit b8a7c0ceca03f8cdd3cd7ec3a9c24cfb72695957
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:26:48 +0100

    Remove tpl_released, which is redundant with the way we use nano versions

commit 33baca24c2ef5d4f1202898f95ed5f79c02b8c98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:18:22 +0100

    Update .gitignore

commit 789dff44028ea62675641a7a8a3cba1cdf29d52e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 14:17:01 +0100

    Remove remnants of support for compiling without Text

commit dcf1606a70deeb140c2d5479092cf6f55eca2d4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-17 12:17:20 +0200

    signal-type isn't a property any more

commit 552672da7c58aefa7d51beb5a941529464e8566f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-16 15:53:35 +0200

    rename telepathy-logger.pc to telepathy-logger-0.1.pc

commit c1a395b1a4f034f5ccac63532ac8e9ca1c194a48
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-15 19:19:43 +0200

    set the right entity type on self entities

commit b883e260f5431b12fee23ada666fbaa87c3ee0b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-15 19:08:54 +0200

    rename TPL_ENTITY_USER to TPL_ENTITY_CONTACT

commit 78a067c28db6644b6a154cf10aef91e6e9ff62be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-15 15:23:09 +0200

    rename TplContact to TplEntity

commit f9fe52d8603087f6c3856358f0e77f69d1b7c295
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-15 15:07:58 +0200

    move contact(-internal) to entity(-internal)

commit 95ba705e3568fd057cbe08ed49446640c7e98618
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-11 14:24:33 +0200

    rename TPL_LOG_MANAGER_ERRORS to TPL_LOG_MANAGER_ERROR

commit ccb0a5d0dd610fb4dde0e13679113f523403fe61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-11 14:23:20 +0200

    fix typos in doc

commit ffa9af25313b8065cbb2a647fdbe162d0625ad35
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:53:46 +0200

    document contact

commit 3d3f52a877e8e600f3c4d9bc8ca51466d7e27836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:52:02 +0200

    remove tpl_contact_from_tp_contact declaration
    
    It's a private function now.

commit ee5ef49b45b2fd784da3cc87f1d90f8153130ceb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:27:37 +0200

    rename TPL_LOG_MANAGER_ERROR to TPL_LOG_MANAGER_ERRORS and properly define the quark

commit d881dd295bd84cdee5fe2b25b36537638bc4c78c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:27:18 +0200

    remove TPL_LOG_MANAGER_ERROR_FAILED

commit 23ee977f624ba64d75fdd397c4eb54b5ef851ee0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:26:24 +0200

    use g_return_fail is user pass invalid arg to API

commit d6723fca5ea722b8b07848a57853dd47490bc63a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:04:47 +0200

    remove TPL_LOG_MANAGER_LOG_STORE_DEFAULT
    
    It's not used any more.

commit 262503dc1d9a2e1e415d5703091ad99d669a3df4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 15:02:29 +0200

    document log-manager

commit f7d13e675c99f36afed2584453d34e57b0dbc0e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 14:08:25 +0200

    document entry-text

commit 602bdafaf82bbf992f51cc5c8c0f15d3daca3b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 14:01:36 +0200

    document entry

commit 13cb3a00f4cf48a51cd39079abc9c2ba2adbf261
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 12:24:49 +0200

    add public API to the doc

commit 6721413482fd2437516c21050d5eceaeb48a5667
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 12:17:23 +0200

    remove private API from the doc

commit c0834b017845706b3b6f6c16792c71154bc4f8e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 10:42:10 +0200

    early return in setters if the arg is NULL
    
    Making properties "construct only" as the side effect to set the prop with the
    default value (NULL) if it hasn't been specified in the g_object_new() call.

commit 1f13e4ed9c37debfb547aaf3fe316598332cdf35
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-10 11:07:02 +0200

    remove tpl_contact_get_contact declaration
    
    Function is not defined.

commit a7f902589dcb3ba92eabc63df09c6c53088e28b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 17:24:37 +0200

    entry-text: remove the 'tpl-channel-text' property
    
    It's not used by Empathy and TplChannelText is not part of the API.

commit b9d9ae18060c12a0e0ec4bc13c3ba274e25c38a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 17:21:36 +0200

    TplEntry::log-id: don't guarantee it's unique

commit 0589d192382843078c34d7c99c4ae57c877889f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 14:51:06 +0200

    entry(-text): make all parameters construct-only
    
    We always use internal setters to change them and the user never has to modify
    them himself.

commit 6193e1a9f6f934e0c2cbba39e6220379632b14a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 14:41:25 +0200

    rename tpl_entry_get_pending_msg_id to tpl_entry_text_get_pending_msg_id

commit 378397df1e1b6027c04b8a484a606323afa76c8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-07 16:41:43 +0200

    move TplEntryDirection as part of the API as it's used by the 'direction' prop

commit bb9910247f090c83836bf8581f8f5adfc819b4d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-07 16:33:39 +0200

    entry: remove 'signal-type' property
    
    It's not used by Empathy so there is no point to expose it in the API.

commit fd4e80e59f966ac3329d15920f0a699a251f0a8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-07 16:28:32 +0200

    rename test-tpl-log-entry.c to test-tpl-entry.c

commit 92fe674be3a9b3d0d18a9018e52fcfe5eca7732e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-07 16:24:37 +0200

    rename TplLogEntryText to TplEntryText and TplLogEntry to TplEntry

commit 2e02fc6f1368aa8a745535131d94b5d29fb3c11a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-07 15:18:25 +0200

    move log-entry(-text) to entry(-text)

commit d4c2d30bfc24256af434afaf7e37a610679034fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 16:08:21 +0200

    move tpl_log_entry_get_log_id as internal API

commit 9acd3dbfa79faa7ab377101a396e072d9a5ddb3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:58:41 +0200

    move tpl_critical as internal API

commit 9421d9f15389dc53bf4615300e17c015ebef963c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:56:04 +0200

    move tpl_contact_from_room_id as internal API

commit 39b2a530955c54793374608d301595550c17eac1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:45:56 +0200

    add magic to generate list of the ABI
    
    Copied from tp-glib.

commit 17815482d382c1a8fe7c9976b0272de9c6c57551
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:18:06 +0200

    observer: prefix internal API with underscore

commit e92be825370f2d7663efb2bd2dec4c0342694b37
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:14:48 +0200

    log-store-xml: prefix internal API with underscore

commit a526994d50b22d6bd0a13e3a04c9006f5a9fc581
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:13:49 +0200

    log-store-sqlite: prefix internal API with underscore

commit c046eb6f328f5c1033ba7ff58dd8f37b9ffc0024
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:10:10 +0200

    log-store: prefix internal API with underscore

commit a96051663fe79f9dfa8b9d9b67fc41392578dc9d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:07:23 +0200

    log-store-factory: prefix internal API with underscore

commit 0cada8ebcb2ff1f14dce64f5e935ee89e29dfa48
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:03:46 +0200

    dbus-service: prefix internal API with underscore

commit cee0830e05cbad2874133b7ce8e48384a0575225
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 15:02:12 +0200

    conf: prefix internal API with underscore

commit 93ba502a92b6ef8b9d82320948bba98816828281
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:58:42 +0200

    channel-text: prefix internal API with underscore

commit e704f9013bcd2ccd0e835d9c7c2703fa56842d92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:52:42 +0200

    channel: prefix internal API with underscore

commit 944cace3681c319dc2ece0647e26c17ac1b4b039
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:44:46 +0200

    channel-factory: prefix internal API with underscore

commit 6470e96a60d8132cd4a03c897e7ff02540e8f6ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:28:38 +0200

    don't use strptime, it's not portable

commit 13c65417bb3cd8ff3ebcc61d60e0ce7a196b45f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:15:02 +0200

    pass const GDate where it makes sense

commit d578e5f8cb0768d3690472ebb07ec1738175c82b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:10:51 +0200

    fix typo

commit 9384e4e16745d6447eca8823d02a4a330f9592db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-04 14:09:19 +0200

    use ISO-8601 dates in DEBUG

commit 5c737536458995a110a89d8d2180572681d4a747
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-02 16:30:08 +0200

    document async API

commit 299947ced1fec6e8409cfd59519959382a9fb4cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-02 14:57:28 +0200

    remove tpl_log_manager_get_date_readable

commit bbfa56452fb808df62e5eee5661051da49bdf455
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-02 14:53:30 +0200

    rename tpl_log_manager_search_new_async to tpl_log_manager_search_async

commit 95e26a832aadff2a233fa1b811d9a96af11d5d67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-02 14:49:34 +0200

    allow filter being NULL

commit d929114908ae7adb9a52e7de0a67535c74c8605c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-02 11:46:34 +0200

    Use GDate instead of string to represent dates in API

commit f595c64f5fec8b8a4f2ed4f51be15ecac1d80246
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-31 16:35:39 +0200

    remove TPL_LOG_MANAGER_ERROR_BAD_ARG
    
    It's unused and doesn't really make sense.

commit 376c162c731912602813554cfdb24685b587e140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-01 15:35:22 +0200

    don't include internal header in log-entry-text.h

commit bcb3b8e5a9d22c5ecacb1f41c46e3892238d65ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-31 16:17:41 +0200

    Don't compare booleans to TRUE and FALSE

commit d4de8aed80e4b69eaa91f19b52e117e91a4ec596
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-31 16:15:32 +0200

    tpl_observer_observe_channels: raise an error if something went wrong

commit 1d571949c31ffeafbaab2f90cfeabed51066655a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-20 12:24:54 +0200

    no need to redefine tpl_observer_register_dbus

commit 6e51ead80063dd17b5c9ea6ecfdfcf0905b8f029
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-20 12:21:28 +0200

    NEWS: document new dep

commit 0a4ade1ee46d056af958983059129dd840c6aaff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-20 12:20:53 +0200

    Use TpBaseClient rather than our own Observer implementation (fdo #27881)

commit f5abf08a92855b89be767c6be72ea39d5a0e198e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-20 11:03:45 +0200

    bump tp-glib dep
    
    We need it for Observer support.

commit 551e8de476991996b14618238a65d8bbae19c4d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 10:23:02 +0200

    install headers in telepathy-logger-0.1

commit 02d4ab12db422ed6129a9d077169a15559260387
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 15:01:06 +0200

    ignore all internal headers in doc

commit c7f3d1047b57c817bfdc768e7b8c2681b937d618
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 14:47:57 +0200

    rename all non public headers to -internal.h

commit 71111f257fdc8c88fccd97bd0efeb3fc44274f91
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 14:27:46 +0200

    rename log-manager-priv.h to log-manager-internal.h

commit ac809c709d3e8679e87cac1e6041e61fc0906161
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 11:51:49 +0200

    don't install headers which are currently not used by Empathy
    
    There is no reason to make them part of the API for now.

commit 7ddc3108dc8273f58746bfc21b17d47203b0702a
Merge: cf40bfb 6c4bef1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 14:00:27 +0200

    Merge branch 'misc'

commit cf40bfb178fc7675110dc2ef997269589b1527ca
Merge: 3310792 079b6e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 13:59:22 +0200

    Merge branch 'log-store-api-27270'

commit 079b6e0e31d344c1b37d2240413cd54fa656e5a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 13:59:15 +0200

    remove useless comments

commit 33107927be6af6d0b077145ebd67450e978f38b2
Merge: 004fdb2 13386a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 13:55:39 +0200

    Merge branch 'log-store-api-27270'

commit 6c4bef151a59cc6d335017eebca10633e820f5c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 12:38:17 +0200

    log-entry: make some more API public
    
    Empathy needs those functions.

commit 60cefbc37ab35413cbd1e8d8f6257794fd624e0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 12:22:57 +0200

    don't include internal header in log-entry-text.h

commit 13386a9aff42535813cbf1cbad5323b7c28fd800
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 11:40:09 +0200

    tpl_log_manager_get_chats_finish: fix g_simple_async_result_is_valid check

commit eb253fc01094e03a39d0dfff38764b5aa6ccf155
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 11:38:13 +0200

    log-manager: move API not used by Empathy as internal

commit c1535c6bc7dc8b1cf5370bb3e771e7d633cc761b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 11:30:21 +0200

    log-manager: move sync API as internal

commit 004fdb221b2d2e3abeacbf42992f60ba7db5d715
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-27 10:34:04 +0200

    fix 0-byte logfile crash (fdo #28275)
    
    Based on Robert McQueen's Empathy patch:
    https://bugzilla.gnome.org/show_bug.cgi?id=619736

commit 1fb08e670615eb85ac0a3f6f0abb3539169324ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 17:33:27 +0200

    log-entry: remove useless class pointers

commit 910e9939e333e3a2b407472c7f0791679de1e807
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 17:33:09 +0200

    log-manager: use tpl_log_entry_get_timestamp instead of the class pointer

commit 856627d700a7e0f8aeef2689d0657828d8531a91
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 17:30:36 +0200

    log-entry-text: no need to duplicate log-entry API

commit 59fa0ce103aa8240e80feaf2449c7015d8b365d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 17:08:13 +0200

    TplLogEntryClass: remove dispose and finalize class attribute
    
    They don't make any sense.

commit 91a3bab9e60220efb4eb75c9ecd4ab304bdf2525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:50:54 +0200

    log-entry-text: move TpLogEntryText{Class} to -internal.h

commit 0a4a89e965a5136ec1e829060e2ad696e5084a72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:35:07 +0200

    log-entry-text: move API not used by Empathy as internal

commit a69bf30eb88d28e21517d8477e26e2abfc5561be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:17:57 +0200

    log-entry-text: move setters as internal API

commit becf340393ba8d5f87397ff93d652ad28d1f04b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:11:19 +0200

    move TplLogEntry* enumes to -internal as well

commit 4e2961908f5132a482103e350f1b07e8f3c0ab07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:06:08 +0200

    move TpLogEntry{Class} to -internal.h
    
    Clients don't have to subclass it.

commit f693b2fd2d491ac494ef64e281d65a3d4004b1d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 16:00:38 +0200

    log-entry: move API which are not used by Empathy as internal

commit 26f25997a1ab3da22b3e8a4f3e2e80f8b474c340
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 15:29:12 +0200

    log-entry: move setter as internal API

commit f14ee8db79363559a333d4a9fc67ee3200d73f18
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 14:19:55 +0200

    contact: move setters as internal API

commit 53d80ad82f61a70bdc994a344a5fc84448cb0fa3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:47:34 +0200

    fix tpl_log_manager_search_new_finish

commit 92df36c0ec84cf07c96ea8694bbf1e2cfdd819ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:46:05 +0200

    fix tpl_log_manager_search_in_identifier_chats_new_finish

commit 4d33839701176cd9459c60dfd0756365cec4dc1e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:44:12 +0200

    fix tpl_log_manager_get_chats_finish

commit 782b454cf8ad1d6cf20bee49f0088ead95110781
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:42:40 +0200

    fix tpl_log_manager_get_filtered_messages_finish

commit 253315e24364040b66aa93b1eb9499966786f76a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:40:51 +0200

    fix tpl_log_manager_get_messages_for_date_finish

commit 7b032fb01100f08efc3beb4ef2a4591262a398a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:34:41 +0200

    fix tpl_log_manager_get_dates_finish signature and implementation
    
    We need to return a boolean to indicate if the call succeed or not. Returning
    NULL in case of failure is wrong as an empty list is represented with NULL as
    well.

commit f34ec7df6a34724ce178ff779d06d024b4fc5e3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:23:21 +0200

    make _tpl_log_manager_add_message_finish sane
    
    Validate arguments and properly propagate the error. There is no need to use a
    res boolean to indicate if the operation succeed or not, the error is enough.

commit 4d403b11727958ced86de4c650467117cbc073b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 12:11:59 +0200

    log-manager: first argument of _finish methods is supposed to be the source

commit 8355f2665b51e9cce63b53f5164d354a99cae5eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 11:55:30 +0200

    rename _tpl_action_chain_new to fit async/finish conventions

commit 8f4a9064de8184fb3785b458d51ebef9abc396df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 11:50:46 +0200

    log-manager: pass the right source_tag to g_simple_async_result_new
    
    Convention is to pass the _async method, not the _finish one.

commit 8f09765340c626aea915c8ca78c0214d5d89c317
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 11:45:29 +0200

    properly name _finish functions

commit 62223ff3a7fd8fc0eb008d9e9186625c022112ed
Merge: bcbd2ed 3093b25
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-26 12:33:32 +0200

    Merge branch 'ka-misc-27642'
    
    Conflicts:
    	telepathy-logger/contact.h

commit 3093b25b89535a174a5fc13e0531c98cf2382afa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 15:05:20 +0200

    fix typo

commit 17aba8d87a9492084f7c74dfecb4ec9d86fbfd2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 15:04:35 +0200

    tpl_contact_from_room_id: allow room with an empty name

commit 4c081f368d0d7eefd2a46497088a5f235b06e110
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 15:03:45 +0200

    rename tpl_contact_from_chatroom_id to tpl_contact_from_room_id

commit e03a6fc3c084d7edbea60bb8ffd9096cd2c40263
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 15:02:26 +0200

    fix typo

commit 0dd801e43d11f871ca820cefb065ba8b3418797c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-21 15:01:07 +0200

    rephrase @TPL_CONTACT_GROUP doc

commit bcbd2edb2558651a760839804423cfcb9afd805c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-28 18:55:58 +0100

    TplContact: remove TpContact reference

commit 1e21d3022f6e10a59861f1ce3ed27f0474ada06c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-28 18:54:54 +0100

    TplContact: internalize Class, tpl_contact_new and tpl_contact_from_tp_contact

commit d7fabcf18457eeb7e1c9848efc3ed6aa4ea17052
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-14 12:04:25 +0100

    TplChannelText: on received signal, unreference log entry only when the CB chain is finished
    
    When tp_connection_get_contacts_by_handle() is called in an idle, the weak_ref
    was finalized and thus the CB not called.

commit 001d3f69b17090c887ccf7494a91b694f0f9af66
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-14 11:29:30 +0100

    TplLogStoreSqlite: fix comment's typo

commit e38c487013129b7dc0160b64da4cee9c55a62e51
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-14 12:30:41 +0100

    TplChannelText: improve comments
    
    also use a channel instead of a connection proxy with PATH_DEBUG in
    get_chatroom_id_cb()

commit 6deef0274bdd51d36ab27dcdf95ed7ccdbbfb4dd
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:48:39 +0100

    g_store_sqlite_add_message_counter: inizialise to NULL @date, or it will segfault after the 'goto' jump

commit 1de76118ee5abeec04058e0f4ff7cab91d423fac
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:47:30 +0100

    check for sanity of @data in tpl_log_entry_text_set_message
    
    allow emtpy strings (in case of empty messages) but now a NULL pointer.

commit 2610d2c09823f4145f5f3e86f3f5a1861de5dac4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-14 16:45:26 +0100

    TplChannelText: TP Style fix

commit 9cfcb7b0d30b0e5366b138c3271136904ee2b9ec
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:47:10 +0100

    TplLogEntryText: TP style fix

commit f61d5b352d1fbe898785586a5108ecb2930f5d6a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:46:25 +0100

    TplLogEntryText: improve gtk-doc string and remove an out of date comment

commit a1133699bfbf15195d6cf9f62c83e003f9d6672b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:42:04 +0100

    TplLogEntry: use TPL_LOG_ENTRY_MSG_ID_IS_VALID to check if the entry has a msg id set

commit 21b46074bf506bce59c70d48b51a7885c72a9398
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:41:16 +0100

    TplContact: add gtk-doc strings and comments

commit 8cd732b94f676fffb6f229f516b9ddc235c3f57f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:39:57 +0100

    TplContact: add TPL_CONTACT_SELF in TplContactType
    
    It represent the self-contact, similarely to a connection's self-handle for the
    account's owner's handle

commit 44348c8d1335c3a717c412e267de1a160051ad34
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-13 14:37:08 +0100

    add tpl_contact_from_chatroom_id() which create a contact representing a group

commit b98eaece484fff2682fce08c9004ac08210020dd
Merge: bd97bf6 be49ab9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 19:42:25 +0100

    Merge branch 'internalize'
    
    Reviewed-by: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>

commit be49ab9caef69175569e24dfdf627991b7639b77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:43:23 +0100

    Internalize action-chain

commit 501b1dd988003fd772d991f6eed413f386338d9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:35:56 +0100

    Remove datetime from docs

commit c30cf7d603b57ffe8a789ec552e808a4027d81dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:20:44 +0100

    Internalize datetime code

commit 83ca82a5b38d31cefce83fad1390dd627fcd9a8a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:01:13 +0100

    Remove debug, util from docs

commit f59fb0bb4bd4adf0116a25c9035c3a03ec89fe7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:59:33 +0100

    Internalize util.h

commit 11b4d70d5588fa19f474f0d1be5ce82bfc38f2af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:54:27 +0100

    Namespace create_message_token properly
    
    Extern functions should be namespaced.

commit 5e7655f12de5b11e35e19acabf540f4557b50db7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:17:53 +0100

    Rename debug.h to debug-internal.h and underscore-prefix its functions

commit bd97bf6a798232bc4fccccfd1aebd0477d6e2daf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 14:12:25 +0100

    TplLogStoreXml: use a temporary variable "priv" less often

commit b01469eb6541b270284394c957191b69904a9cb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 14:08:33 +0100

    TplLogStoreXml: remove unused mentions of priv

commit d84fa9686e619e4329c2b55dfaa07054ae5cff32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 13:43:52 +0100

    TplLogStoreXml: don't dereference self->priv until self has been checked

commit 7e372e0f0c9e2d7f103bfe8b183a4d6028c30be4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 18:46:17 +0100

    TplLogEntry: don't dereference self til it's been checked

commit 30a836d4568a8d270dff7f1036f3ec912ca9d9ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 18:37:47 +0100

    TplObserver: don't dereference self til it's been checked

commit bd67e2cfef7da52349b5a11d1591731665260ede
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 18:36:50 +0100

    TplContact: don't dereference self in public API til it's been checked

commit c559ba1a3093d4757a736bca4034d25dc3bb58b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 18:09:03 +0100

    TplChannelText: in public API, don't dereference self before checking it

commit e22d1ec28d028399a36136b32e5226f2f827211d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:52:48 +0100

    Remove TPL_GET_PRIV
    
    It's less type-safe than just using self->priv, which is also much clearer
    to read.

commit 1e1a632573aaf2076ed72e65794e4042f5abec2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:51:53 +0100

    tests: remove unused GET_PRIV macro

commit c18ed66701643ba491f1098da163dd0ee778b2be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:51:44 +0100

    log-store-xml: de-obfuscate priv access
    
    This is a little more involved because we have various pointers to the
    interface type; consistently calling the class you're writing "self" and
    an interface or superclass "store" or "object" (or whatever) is a good way
    out of that.

commit 5307b2dbd92fe5cb046edcb5138f47bb818f820d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:47:17 +0100

    log-manager: de-obfuscate priv access

commit 692efad1864b68b20e59bf6eca12331026f0cb02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:46:59 +0100

    log-entry-text, log-entry: de-obfuscate priv access

commit bdbff0da3a9d126c5359cfb8683c67ecd52416f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:45:44 +0100

    dbus-service: un-obfuscate priv accesses

commit e0e10c8784bc5ce4c69864696df70e6492a8cb86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:44:51 +0100

    contact, observer: use un-obfuscated priv accessors

commit 6bf5eb7af8fdbd42b4ceb15a5036f9933fb7cdee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:44:08 +0100

    channel, channel-text: avoid needlessly obfuscated accessors for ->priv
    
    The TPL_GET_PRIV macro blindly casts things, so it doesn't add any type
    safety or runtime type checking - to the contrary, it *removes* type
    safety :-(

commit 37858aafe5f73b383d198f15c8942a08bf438c28
Merge: 0d45d65 b439cff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 17:43:20 +0100

    Merge branch 'doc-fixes'
    
    Reviewed-by: Travis Reitter <travis.reitter@collabora.co.uk>

commit 0d45d654f3d8d6e88f3c3ab7bebce5754d7ba4bc
Merge: 5d49165 73306f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 16:56:43 +0100

    Merge branch 'build'
    
    Reviewed-by: Travis Reitter <travis.reitter@collabora.co.uk>

commit b439cff820a2691405ee2b8c300a7448a6d25ec4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:58:36 +0100

    Adjust TplLogEntry declaration so it gets documented correctly

commit a38ab857bb2d82f3692c8e3f0598bf2137fb5156
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:56:21 +0100

    Move TPL_LOG_ENTRY_MSG_ID_IS_VALID (etc.) docs to .c file, and re-word

commit 73306f11d45275626ec886c843d6b9c555b85ae4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:31:13 +0100

    Remove duplicate implementation of --disable-debug

commit 962aa841b069db2619f4215a507891ff86d3fdcd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:29:46 +0100

    Enable some more compiler warnings, following telepathy-glib's example

commit 5f0033ca301c9dcf57603cee1e54aa64035c4a50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:29:29 +0100

    Use telepathy-glib's macro to wrap desired and undesired compiler warnings

commit 6bf9b9a1642da4f47b69b44ec165beb1df712253
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:22:56 +0100

    Remove vestigial handle-leak-debug stuff cargo-culted from telepathy-glib
    
    This is only useful for connection manager executables. The logger isn't
    one of those.

commit 83477e31f5f8d0a27ba9ec5814d44c98e05aa1d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 19:19:18 +0100

    Don't use "maintainer mode"
    
    Using AM_MAINTAINER_MODE causes builds that didn't use
    --enable-maintainer-mode to omit dependencies for the build system, which
    in practice is really annoying.
    
    Also, the GNOME macro now explicitly disables single includes, in a way
    that clashes with *us* disabling single includes and means that using
    --enable-maintainer-mode causes multiple-definition warnings.
    
    Since we warn (fatally, during development) on deprecated symbols *anyway*,
    we don't seem to be gaining anything from GNOME_MAINTAINER_MODE_DEFINES.

commit 62c9d088d88ddb36820a4b36d8cbe337915a9e33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 18:16:30 +0100

    Fix dependency for _gen/cli-misc.h in extensions

commit 5d491658d87db83f1598b8ce371c01548288dbac
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 16:31:41 +0100

    fix debug messages in channel-text.c reducing noise

commit 8cd721ed58839ae1f27f7efa8532489d8fededa6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-31 13:36:41 +0100

    improve debug macros in debug.h reducing noise
    
    print only partial object path for TpProxy when it's a TpChannel or TpAccount
    making the debug info more readable

commit 3ca694f5c67ef7901ebec8ba1172eb4fbabcf93f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-30 19:49:43 +0100

    TplLogStoreSqlite: set GError insead of printing a debug message

commit b0aa91cec8f0a1051bae5def372618726c57ab89
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:42:43 +0100

    Add and fix sanity checks for TplLogStoreXML
    
    Especially using TPL_IS_LOG_STORE_XML instead of TPL_IS_LOG_STORE, ensuring the
    right TplLogStore instance is passed

commit ee324217f7f244875aec7f0fb1520c31863a3d4f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:39:23 +0100

    TplLogStore and TplLogStoreXML: fix type for identifier in _search_in_identifier_chats_new
    
    From "gchar const *" to "const gchar *"

commit 49179a15ac831a7f8967730c6f723017d935a5e9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:35:05 +0100

    TplChannelText: show debug message only on non-empty lists

commit 7ca5eeba4468988c14a09fba6f94ac892d456dd4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:34:46 +0100

    TplChannelText: Improve comments for tpl_channel_text_clean_up_stale_tokens

commit 6b97e358a33528017b25de13310c6c00e6a1e66b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:09:33 +0100

    TplLogStoreXML: check if alias and avatar's token are not null before usingi g_markup_escape_text

commit 56f1dd05cdcaba8530846c95ac933015fca459b6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-01 15:18:10 +0100

    Return TRUE on tpl_log_store_xml_add_message on not handled signal
    
    Returning an error would lead the log-manager to consider it a failure, while
    it's not. The logstore is not interested or does not need/support to log this
    signal.

commit 89e80b67e221c7808c84c808b215432f73a7bca4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-01 15:17:00 +0100

    Remove TPL_LOG_ENTRY_CHANNEL_TEXT_SIGNAL_CHAT_STATUS_CHANGED from tpl_log_store_xml_add_message()
    
    It's not actually handled neither by TplChannelText nor TplLogStoreXML

commit 558b0edc939df82072f0ef2175b1b7e3a8e0e5d7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:00:12 +0100

    Prepare TplChannel before doing anything with it
    
    Especially before connecting to signals.
    
    Otherwise TpProxy might return wrong results due to being unprepared.

commit 68e3b7b4c63508c3faa8de4f1f08944effb0e97b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-05 12:28:28 +0100

    fix a typo trying to free a list passing l->data instead of using g_free

commit fabaa009572319a666a1299c76b7f8564125b9ba
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-30 19:46:14 +0100

    TplLogStoreSQlite: Fix the pending column value, allowing to store ACK messages correctly.

commit 657cb618c7e858df3399c2517ea50fe9dff5298c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-01 13:46:38 +0100

    Amend tpl_channel_text_clean_up_stale_tokens() so that it does not modify the passed list.
    
    Improve comments for tpl_channel_text_clean_up_stale_tokens()
    
    Also update the code using tpl_channel_text_clean_up_stale_tokens() to print
    DEBUG messages and free the list.

commit 3539b8ef5533b5ad3691f73d61b1cf11a9c1c0a4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-01 13:42:43 +0100

    Remove tpl_channel_text_msg_token_exist_in_cache()
    
    Rename cached_pending_msg to cached_pending_msgs in got_message_pending_messages_cb()
    and got_text_pending_messages_cb() in channel-text.
    
    Also update code using tpl_channel_text_msg_token_exist_in_cache() to do the
    same actions of the removed function.

commit 6493f6b3d4fa56846001cd056492b77e33bd29f5
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-31 17:30:41 +0100

    fix TP Style and remove some debug noise

commit c9f0d834da71f75bcf8fa3181d48fcb247adbd9b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-31 16:26:46 +0100

    free partial retval for tpl_log_store_sqlite_get_pending_messages on error

commit 6efe8dfcd33a7b720218ae4621ad8d0d3511b3d2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-31 16:26:26 +0100

    add sanity check for tpl_log_store_sqlite_get_pending_messages

commit 9b3ed1a9306af4e1f6f893ea2163f98c926fb9ea
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-03-30 08:45:00 -0700

    Make the extensions library public and perform some minor reorganization.

commit daa60e413c9f8473b3a92c12dc60f33d54e25342
Merge: 150c60c 69ba497
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 18:42:26 +0000

    Merge branch 'privatize'
    
    Reviewed-by: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>

commit 69ba49767d0af60f3d4a73b7b58065ff2f29d64f
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 18:03:59 +0000

    Organise docs.xml into public vs. internal based on KA's comments in fd.o #27178

commit 774408d760f47e5ccfe795c3a88996ce55615f8c
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 18:41:21 +0000

    Prefix an underscore to symbols in log-manager-priv.h
    
    When we start doing ABI properly, this will mean that they're not exported.

commit 3f6e6bbcf6ebe9f435c7a4c87c13751fd6b21ddf
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:54:50 +0000

    tpl_log_manager_add_message: don't repeat method name in CRITICAL()
    
    The CRITICAL macro adds G_STRFUNC (like DEBUG does) anyway.

commit 150c60c9bbcf474ee75333aa6b09d15db9ec9e1d
Merge: 5df508b 7df7627
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 18:32:35 +0000

    Merge branch 'docs'
    
    Reviewed-by: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>

commit 5df508b6c246eddb2f8bbd44214a720d4c52e63d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-23 18:00:58 +0000

    fix TP Style in log-store

commit ed49db6ab80aabba9a01eeec0ab3ffea30f8ed66
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-23 17:59:58 +0000

    fix TP Style in channel.[ch]

commit a3bdf6ff59824d586a65640a8999e52d64baa9d0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-23 17:59:22 +0000

    Remove finalize() from observer.c, unused

commit 8f87d36f61c8762aa876266dfdc9be692896ac64
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-19 16:27:01 +0000

    TplChannelText: make pendingproc_cleanup_pending_messages_db use tpl_channel_text_clean_up_stale_tokens
    
    Rename old cache symbold (due to former log-store naming) to index.

commit ff27d68490581b53ddbfc670af47e0a2bd52574b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-19 14:27:56 +0000

    Removed account, presence status/msg methods from TplContact
    
    Unused code.

commit b3eec0f4dad96ba8a503661e160d1557d089f027
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 18:52:39 +0000

    Moving TplLogMessageFilter to log-manager.h so that log-store.h does not need to be public

commit d1e999225104d8037348310fafd7928a5b0faaf3
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 18:51:07 +0000

    Moving tpl_log_manager_register_log_store to log-manager-priv

commit 6a51631fe7a1540b83b7a21d74b8e4037e85117e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 18:50:11 +0000

    Removed useless #includes

commit bd7da9aa7ce8d1c2fe6bb190096128ef821e866a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-17 18:43:33 +0000

    channel.c: typo prefixing tpl_observer instead of tpl_channel
    
    Also removes a usless finalize()

commit 2b1863d2269324d7ecdc8249543d7b4ebb474b98
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-17 18:02:54 +0000

    Enabling -Werror by default in configure.au

commit 7df762706269a91cb79956d9405f4194aa4d60cc
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:30:47 +0000

    Sort .gitignore, approximately by directory

commit 82f9efe2287e160116261ec71b3ac484702bf72c
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:28:17 +0000

    Anchor .gitignore patterns at root of repository where appropriate

commit c1b6f93722e7e9addbf53310ff8ed3a712b2556f
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:27:28 +0000

    .gitignore: remove configure.in, observer.py, neither of which we have
    
    Ignoring "observer.py" globally seems a bad idea, as it'd break (say)
    a regression test for observers written in Python.

commit 298ded8b1473dc34a4f17e23d22715776621785e
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:22:14 +0000

    Don't generate documentation for log-manager-priv.h

commit 227bf458316e81fef3cf4d9969207d41796a5947
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:22:01 +0000

    Add top-level documentation file
    
    While I'm adding a new one anyway, it might as well have a
    tab-completion-friendly and syntax-highlighting-friendly name, so just
    call it "docs.xml".

commit 65fe90c5d5abe05eec5801a8008897c78f2a155e
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:15:24 +0000

    gtkdoc: automatically rebuild sections and types files for now

commit d7f502a1d00419d94d0669735bd23bd248a2d19b
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 17:13:33 +0000

    .gitignore: don't ignore the index for the docs, which is hand-written (and missing)

commit bfb864f3c10850ac6e87d5d56f1b7bb6551c4c84
Merge: 086e7d7 4c17e94
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 16:38:57 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>

commit 4c17e94e3ff3ccf2f11c21e35e780336c5c26895
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:53:43 +0000

    test-tpl-log-entry.c: use a string for the log entry ID, not a null pointer
    
    This appears to have been forgotten in commit eb8bd37327b6.

commit a560d0d2c9f7eefed44778d64b2ac3960b0dca9d
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:49:55 +0000

    channel-text.c: on_received_signal_cb: don't unref @log if it's uninitialized

commit eda50c7a6404987a0d19a03b6cb1e49cd026b2c4
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:49:12 +0000

    channel-text.c: eliminate trailing whitespace

commit 6d62930732b06f5967abf0944c4927be529f664b
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:48:59 +0000

    log-store-sqlite.h: eliminate tabs

commit aeccda7656ea184ae9606b25d80cc4be83f363c3
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:48:34 +0000

    extensions/Makefile.am: ensure there's a rule for _gen/cli-body.h
    
    This fixes parallel builds, at least on my laptop.

commit 8df1e5a0e4056a4f408ff2ce113f4a562ef81e73
Author: Simon McVittie <smcv@debian.org>
Date:   2010-03-23 15:40:12 +0000

    Switch from shave to AM_SILENT_RULES

commit 086e7d71a8f4059eb38b0071c752046fc50ae478
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-19 16:04:37 +1100

    Don't leak LogEntryText and thus don't leak ChannelText

commit 63ae816a637c983cfd142c81fe15d120a0ed8004
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-17 10:29:59 +1100

    log-store-xml: fix property enum to match property name

commit 7ba473a59c47f40b5e733098bedd369641b71321
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-19 14:19:19 +1100

    Fix up segmentation fault
    
    The channel a signal was connected to was also being passed as user data
    (sometimes), but sometimes it was NULL. However it was occasionally being
    read from the user_data, which would segv when NULL.

commit a2787e80d020f2186ae50fe677a6bef6e5404096
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-18 18:08:09 +1100

    tpl_actionchain_* -> tpl_action_chain_* -- make methods consistent with type

commit 35b3d2c0bdf60d53268f420389aade1740ca4406
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-18 17:23:21 +1100

    Clean up channel reference counting, fix reference leak in TplActionChain

commit 4a6a02cb4b630b37ba279f0be1762ce647a00ed3
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 15:24:27 +0000

    Support for stale and logged messages for Text interface
    
    This also fixes a leak in got_message_pending_message_cb
    which continue'd the look without freen tpl_message_token, if the message was
    already in cache.
    
    Conflicts:
    
    	telepathy-logger/channel-text.c

commit 191e7a9609eccf459e25723b9251b51fea284d89
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 15:03:17 +0000

    Add PATH_CRITICAL to debug.h

commit adb3042564be24024e0472dbddf830281590c9c6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-18 12:42:01 +0000

    Hooking PendingMessagesRemoved only if TpChannel implements the Messages iface

commit 7b56b2e57e3c83ecbf461888dcfd62834bf949e4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-16 17:34:09 +0000

    Fixing a bug in log-store-xml get/set prop

commit 46f9e25beea604333c045ffb92d1d01111c7a077
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 18:51:54 +0100

    LogStoreSQLite: Purging 5-days-old entries every hour instead of every TPL boot.
    
    This way SQLite is ensured to have 5 days+1 hour old entries at most.

commit 2b51a65a1b5175be655123116f6fcb24a6cbd6c0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 17:04:01 +0100

    Fixed authors in log-store-sqlite.c

commit 87534b31199cd4528f04a92a61992027ed4719be
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 15:14:04 +0100

    Imprioving insert/update in messagecounter

commit e8df07c6c2d7233218238d3bd320ff06b4c86bd5
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 15:13:27 +0100

    improving GError messages

commit 3e88c45f2831e12c48640617cbf62b5932b30952
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 13:57:56 +0100

    DEBUG format string fix (%d -> %u)

commit 6c67365e6462aa773d23b585681496af34bac240
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-15 13:53:47 +0100

    Removing TplLogStoreSqliteTable enum

commit e2d78f9870c39d75c95f00dcb85645a426d59f74
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-12 20:15:41 +0100

    Renaming TplLogStoreDefault to TplLogStoreXml

commit 36b946f07540594330b9c8d48182c23fc7bca87a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-12 20:05:07 +0100

    Removing LogStoreEmpathy
    
    the current default LogStore (to be renamed) will manage both legacy and the newer XML version

commit 74fc18cf20042bf158f033e1e455310ccfa2db8d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-12 20:01:47 +0100

    Patched log-manager's add_store to return the LogStore
    
    Using the legacy mode empathy-legacy mode with the default logstore
    instead of the current log-store-empathy.c (which will be removed).

commit 2b3b0b06a8b5c44b5d2e85c1b3acf59dbaec0d84
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-12 20:00:24 +0100

    Added the empathy-legacy mode to the default logstore.
    
    By default it's FALSE, it can be enabled only via properties.

commit 09eb2b2656b02e40ddad7710345813ef48d7ead9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-11 17:38:17 +0100

    Fixed a column reference passed to SQlite _column_*
    
    _bind_* family starts indexing from 1, while _column_ start from 0.
    
    This also fixes back to normality setting ack'd messages in SQLite.
    
    Due to this bug it complained a lot that it was unable to find msg-id
    <something-which-is-not-a-message-id> and failed to set it as ACK'd.
    the g_critical complaints are also fixed consequently

commit 3ad30c4a0fe22bf2f8d98ba7a572a83c20db1e66
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-11 17:37:08 +0100

    Fixing a possible leak if sqlite3_step returns ERROR during the step iteration

commit 75a5443b475111d7c5e8d7f79fb67e8e60ecf4b3
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-11 20:50:32 +1100

    Fix types in headers from time_t to gint64

commit e6c809de287d12ef22ee6954c0f42337d795012b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-11 17:09:50 +0100

    Fixing a leak in TplLogStoreEmpathy

commit bee2dd90df952aa3bbd1cb655406b64c565db957
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-11 16:06:42 +0100

    Renamed references to 'index' variables to 'cache' and some other symbols

commit 6efe62230b4839fe9594bfbdc198c6ee773eb330
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-11 16:07:15 +0100

    Added TPL_LOG_ENTRY_MSG_ID_IS_VALID(x) macro

commit 41d017bff40ac3ec0794706d2604a7e0f245d0d8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 13:32:23 +0100

    Reintroducing static strings instead for SQL

commit 9e0963a47f45fadb5406cb77dab58bbaccaa88b8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 13:30:37 +0100

    Improving comments ang gtk-doc strings

commit 3396bb782378df3352da0106a608cab86722df66
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 13:28:01 +0100

    check validity for data retrieved with tp_asv_*

commit 72f640053a59783c6f5e7f09be12e372806ac452
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 13:27:02 +0100

    Use TP constant for ChannelType

commit 2d01efa2235a521fb6568d1fb072f79847befca4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 12:36:19 +0100

    Changed create_message_token timestamp type from str to gint64
    
    This way it is passed a unique repr of the data.
    With the str if any other format string was used, a different token would be
    produced

commit 5f8cebc439597e30eb6fc0f315770a6d5f2d1a8a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-05 16:06:56 +0000

    Using gint instead of gint64 pending messages ID for TplLogEntry
    
    TplLogEntry P.M.ID cannot be unsigned since it needs a way to recognized ACK'd
    messages and other special values

commit 4e260679680fff96fbbb821de5752476acd45c79
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-05 16:06:00 +0000

    Using constants where possible for time formats and special values

commit 5acca9ffd109628c9f6e1f9b9fa768ca67f7c203
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-05 15:08:24 +0000

    Using the more informative CRITICAL instead of g_critical

commit 43e0507ec3ef2e4b24cb38efc499a03d71274a7d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-05 14:50:18 +0000

    Adding CRITICAL macro and tpl_critical function

commit fc01d26e78835c6c0b750193649e9d16c09c4cd4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-03 18:09:34 +0000

    TplLogStoreSqlite: Purging old entries, when the log store is initialized
    
    Setting also a cosntant in tpl-log-store-sqlite.h as delta time in seconds for
    clean-ups, purgins and similar operation.

commit f72d2ba86f04bb0f61e0f63c8b43fb9325d9f1da
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-03 17:20:38 +0000

    Starting using the Index logstore to keep track of the logged messages
    
    Now when pending messages via the Messages interface are examined,
    the ones that are present in the Index wont' be sent to the log-manager again.
    
    In the same way, on received signal, a message being in the Index won't be logged.
    
    It also does some stale id clean-up.
    
    DEBUG message have been improved.

commit d3bd027c5f717cc53554b096e0ad9475deb4872c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-10 11:43:38 +0100

    Renamed Counter LogStore to Sqlite, adding also a Caching functionality, which
    keeps count of incoming messages and allows duplicate checking
    
    LogStore Error codes has been updates to reflect some Index needings
    
    Fixed a typo in log-store.c tpl_log_store_is_readable

commit eb8bd37327b668ff964cbcd8b5b4a8be645c8de1
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-03 14:30:00 +0000

    TplLogEntry/TplLogEntryText: added several fields/props
    
    pending_msg_id: the entry's pending msd_id or -1 if sent/ack'd
    channel_path: the channel path relative to the channel originating the entry
    
    log_id: changed type, from guint to (gchar *), to represent a literal token,
    thus the constructor for TplLogEntry changed to follow the log_id type change.
    Due to the type change, a small amend has been done on TplLogStoreEmapthy.
    
    TplLogStoreDefault has been created since with the introduction of log_id as a
    literal token, TplLogStoreEmpathy won't be compatible anymore with the current TPL default LS.
    
    A utility function has been added to util.c, returning a message_token which
    TPL clients can trust to be unique within TPL, this until Bug#26838 will be solved.
    
    TplLogManager has been updated with the new TPL_LOG_STORE_DEFAULT instance.
    TpLChannelText has been updated with the TplLogStoreText constructor update.

commit b38e68a0472b570879a1492b68ab3b95b157dbd0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-24 11:30:37 +0000

    Add retrieval of pending messages using Message iface.
    
    Now channel-text select which way to use, depending if the channel implements
    the Messages or just the Text interface
    
    Fixes a typo in debug.h

commit f7144411f6eceedfa47fad5f4162f5c80fc30f04
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 18:56:21 +0100

    Fixed log-store-sqlite name property

commit 3a0e8060c5aa00e056b1399042ebac02abe53f75
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 18:55:16 +0100

    Renamed GET_PRIV into GET_PRIVATE for homogeneity

commit a78c3def6b3251ca75515c0ac3cc347064941d3f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-08 16:46:57 +0100

    Renamed log-store-counter into log-store-sqlite
    
    Updated also all the methods' calls

commit 28e5420f50afd5ce3e33f8f545c67a8599cdcdd2
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-23 11:54:48 +1100

    log-manager: clean up addition of log stores, add TplLogStoreCounter

commit 15820422ec7584a1fb3b3e10839fd14464f0c0e9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-19 16:48:44 +1100

    log-store-counter: a log store that uses sqlite3 to count messages

commit a76bec681af40f1bb88073bd0aa8e2a7c1e0042c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-18 15:38:07 +1100

    log-store: add common properties to the LogStore GInterface
    
    Remove is_{readable,writable} from iface use properties instead

commit 5d1ed6a2da3dd1dd7d0cc47dbe454e4dbbd285c2
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-05 12:50:52 +1100

    Add comment for how to use log-manager.xsl

commit 05eac85e49278f1c29bbebe20a913ca344278a8a
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-04 15:01:20 +1100

    observer: don't leak GObject properties
    
    ChannelClassList is wrong for registered-channels. Change to a
    TP_ARRAY_TYPE_OBJECT_PATH_LIST, although this property isn't exported over
    D-Bus, so I'm not even sure why it's using a D-Bus type, and not something
    like a GList.

commit b9e5f1e0ace623b1b252ecad3e65ddf45b809359
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-03-03 09:50:43 +0000

    fix client's .service and .client files
    
    Without it TPL couldn't be triggered properly and resulted

commit f200bbb23e1ef6bd6a6375dfbb5ade923e04c0a9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-26 16:31:26 +1100

    Start telepathy-logger 0.1.2 development

commit 1ebe6d72ab3f3a11dcd59a68260a041e41ed6139
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-26 16:18:12 +1100

    Release telepathy-logger 0.1.1

commit 974c774d4d45dc2935bc8a6eee43e987a97dc486
Merge: 441651c 6a769d8
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-26 14:46:32 +1100

    Merge branch 'observe-existing-channels'

commit 6a769d860f6a7cf5d16bc5acb130afd63bd9535a
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-26 14:35:39 +1100

    observer: clean up referencing

commit 441651cc42ab642626315df1bbf8ade20fa5400f
Merge: 6f5caa4 5f5173c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-26 13:31:33 +1100

    Merge branch 'get-recent-messages-async'

commit 5f5173cba1b80d71faf4db7bd07adb07952a9bd0
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-25 09:06:17 +1100

    dbus-service: make GetRecentMessages asynchronous

commit 6f5caa40473feea9c9c7526affab43d173b34636
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-02-25 14:36:08 -0800

    Add favourite contacts support.
    
    This adds a simple D-Bus API and implementation for storing and manipulating a set of favourite Telepathy contacts.

commit 9c5151d2622f1ef04ce0d7a59c70cc355df3af28
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-02-25 08:15:50 -0800

    Fix the signature of link_free() and use it more consistently.

commit 11e8fd5bfb68347baf7f809089c78ade0eb7f79d
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-02-24 08:59:42 -0800

    Extend the TplActionChain API to support passing arbitrary data to the chained functions.

commit f460f051e89dc0088bc12b59aca2664f0d5e8a66
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-25 15:27:51 +0000

    Improving debug messaes for log-manager and log-store-emapthy
    
    Plus some typos in comments

commit bee2939e886835e90108f72c25bd38435d4128b5
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-25 14:48:43 +0000

    Preparing TpAccount and TpChannel before channel retrieval.

commit 8d884a2f125a1f96256ec2511fd10a0590a77c85
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-18 19:33:28 +0000

    Improved debug while called during open channel inspection
    
    Also fixed the code comments

commit c379854bdc7eb3d7c636253879ee58b37ef21879
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-18 18:26:17 +0000

    Added Open Channel retrieval.
    
    This allow the logging of channels which are already open and thus no further
    NewChannel signal will be sent.

commit 6b7168d92c97211eeae7fb432b2cbea4edf5bf97
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-25 21:22:30 +1100

    Cleanups: update .gitignore, update G_LOG_DOMAIN in other makefile
    
    Remove spurious src/config.h that was causing strange problems

commit 4b5bd4a42f4b94d84d9efad271b3f4ab4f20210f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-24 15:06:44 +0000

    Adding a GIO's _finish() method to each async API in log-manager.

commit 45a15b2a1e69bfeac4aeeae042e2ac9e14a05849
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-23 14:57:46 +0000

    Fixes a SIG11 when a msg to a chatroom is sent
    
    Now it handles properly the receiver's contact, which in chatrooms is NULL,
    since there is no actual receiver (tpl-log-entry's chat-id will be the chatroom id).

commit db094e346bdc4ddc2f2bb782586ae7e263ff2d74
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-23 14:56:27 +0000

    Fix PATH_DEBUG, prefixing '_' to blocl's vars to avoid shadowing vars in upper scopes

commit 7aaf7c0092c18e902fb841a759af109f74e90b30
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-23 10:57:14 +0000

    Fixed a bug with tpl_log_entry_set_chat_id at construct time
    
    Now it's not a G_PROP_CONSTRUCT property anymore and tpl_log_entry_text_new
    does now need chat_id anymore.
    This way the default value for chat-id is NULL, unless differently set.

commit 89d4e4c209f9816e695fd3e24a42be045d18504c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-23 10:56:48 +0000

    TP style fixes

commit d1706e27c6ae372e93d6fffb2355364a822335c0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-23 10:55:27 +0000

    renamed libtelepathy-logger.pc.in in telepathy-logger.pc.in

commit 1f2ff73875abc4848f2d1cd02c2ce939787329d8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-22 14:32:47 +0000

    Changed from libtelepathy-logger to tp-logger the id used by debugger to log messages
    
    It's shorter and similar to telepathy-glib, which uses tp-glib

commit 16399fba93ebc677ff6337e058d54fb20b5dbd62
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-25 09:11:11 +1100

    Change test-api to noinst

commit 886d9a6b62eb6a7bbb6adf2c380bae91b70cdd9b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-25 09:10:46 +1100

    Copying files from Gabble should involve reading them first

commit c7c16e1b587398f4e74047481d78cb9ab64b33d6
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 16:01:47 +1100

    Start telepathy-logger-0.1.1 development

commit 6751bafc218447314c4fd3e97f684ac8827745cd
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 15:56:25 +1100

    Release telepathy-logger 0.1.0

commit 20719b71095d2e77d953ee53f10ce2c0cc0717f6
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 15:55:27 +1100

    Fix ChangeLog generation

commit c7cfdf3e662d8c3264f7da88de4edcd1bd4bf1a9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 15:52:20 +1100

    Include maintainer tools in toplevel Makefile.am

commit b6b27bb54134a665503a899c0596ac5dd9387ebe
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 15:22:14 +1100

    Disable check-twisted and check-undocumented from `make check` for the moment
    
    The twisted tests do not seem to be complete and there are currently way too
    many undocumented symbols to make that a dependency of running distcheck

commit da9f65aaee01424f21166961fa6896f63ee5c326
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 13:33:51 +1100

    Tp style fixes

commit 7df470ddbb913c57e1fe681685184a67ee0a1bc3
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 13:33:28 +1100

    make distcheck fixes

commit d461f3e62f1270c3eaf9ff2e5faf0408be7699b9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-24 12:36:17 +1100

    Update files for release

commit 45884da6c26a4c6416893eae0623dc8fa74e5a09
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-02-16 14:35:27 -0800

    Update the URL in the README.

commit f6a52b9c3b5a79a9b1bb312a083b807b903d81aa
Author: Travis Reitter <treitter@gmail.com>
Date:   2010-02-16 14:26:02 -0800

    Ignore generated test tools.

commit f09c9a2bdab4f9751bce90d4dd3b4d7e3ccd95c7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-22 12:08:59 +0000

    Moving LogManager initialisation from _constructor to _init
    
    Also improving DEBUG output

commit c552afb51d9e4c07f4b99729d15ec2cd1c7242bb
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 19:46:20 +0000

    Fix chat_id conversion when chat_id is 1-1 conversation from a chatroom
    
    In other words: avoid that 1-1 conversation generated from a chatroom, having id similar
    to room@conference.domain/My_Alias (in XMPP) are threated as a directory
    path, creating My_Alias as a subdirectory of room@conference.domain

commit afee8187bcc7728f29e20d085c32053612b3e361
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 19:45:35 +0000

    Handle GError properly in during _build

commit d2f75b52298a95bc1831be724ae95f8aa73be7f2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 19:12:49 +0000

    Using priv->readable_stores when using a search/query API
    
    All LogStore API that access the LogStore in reading have to have the readable
    property TRUE, so that at log manager's registration time, it will set the LS
    at in priv->readable_stores properly, to avoid to query LS that actually are not meant to be.

commit 164d1d6ffb132932eeeaaa15dd9b2c925d266696
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 19:11:03 +0000

    Fix tpl_log_manager_search_hit_compare
    
    and minor restyling of tpl_log_manager_get_chats

commit 37eae707e9feaa926a61d0a8de7f85898a097770
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 17:40:44 +0000

    TP Style fixes and gtk-doc src documentation improved

commit fc07d94530a3433d3fe3f930f751927f5b9e26a8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 17:43:39 +0000

    rename LogStore iface method from last_messages to recent_messages

commit 7b20066d126e414fbfd00cd6bd06617cd123ca55
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 17:35:25 +0000

    Improved error managing in log-manager and log-store-empathy

commit 5a9b0433b7af89bb3df40d4ac411bd7befeeba7f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 17:36:28 +0000

    Add result data destructors to async APIs
    
    as reported in #26637

commit 9897380f02cc56847d754934c07934f247fccebf
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-19 17:32:07 +0000

    use dbus_g_method_return_error if tp_dbus_daemon cannot be acquired

commit b4c417233bb8feeb3c0dfc6ce7969f2252c6c3e2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-18 15:11:33 +0000

    Added Empathy legacy LogStore support into LogManager.
    
    Added is_readable/is_writable method to LogStore interface.
    
    Also removed ack_message from LogStore since no destructive calls should be
    made from an Observer cotext. The method was an Empathy's reminiscence.

commit 993b4f4b9a14749dd7c36b0e605a3ef4aa04f76e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-17 14:59:42 +0000

    added account-path property/member to TplLogStore
    
    That way a client needing to obtain a TpAccount, can acquire it from its object-path.
    account-path is a PROP_CONSTRUCT_ONLY property, thus the _new method has been updated as well.
    
    Setting the avatar_token for queried log entries.
    
    Also, cleaned up some code and TP style fixes.

commit cab4c064c3bbe0a30f83d0f935f9c549682a99ba
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-17 14:51:46 +0000

    removed useless g_strdup over not stored string

commit 039f10d121c595f7582cc86ad8609df2c4ddf30e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-18 13:08:00 +0000

    TP style fixes

commit 533562ca9919fef651d3be88a839f7c1e2cb0942
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-17 16:44:58 +0000

    Adding observer.h to LIBTPL_HEADERS

commit ffc2409165d4615553d448a1fc30310187f01ac4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-16 17:59:17 +0000

    Fixing LogStore->add_message method using TplLogEntry instead of gpointer

commit ba827be56b447ec949b1754e6a6cd9634408356e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-16 17:33:44 +0000

    improving DEBUG output

commit e41beaea75d52910c9a72045814cfdb3f9a58c8b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-16 17:33:15 +0000

    update Observer's bus name to org.freedesktop.Telepathy.Client.Logger

commit 52e77ab5ba07387419c1069c6cc8140f7105d35b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-16 17:18:08 +0000

    Removed log_to_debug_sender from debug.c
    
    It should be called only by the client (ie telepathy-logger service daemon) and
    not within tpl_debug.
    A library should use the already ready one by the client.

commit 80e208abf1ee1773d41b810aee66a7ca7dfbfca5
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-16 17:03:41 +0000

    fixing the clean target for data/ and the AM_CPPFLAGS

commit ab4d9f004c2ede0bfa5244d295b0451661fe1215
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 18:39:15 +1100

    log-manager: tp-style fix

commit 2caf387ab13f257bf0f66881c8450ded911ddc04
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 17:50:19 +1100

    dbus-service: don't leak GPtrArray or GError

commit 5f6b4aeea75de3ddfd77f90904800cd15f56ebd0
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 17:49:09 +1100

    debug: move tp-glib debugging onto a TP_DEBUG env var

commit c8b84aa481ffbe3d3f13afce68ac22141ac155ee
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 16:21:07 +1100

    test-api: fixes to make test-api work correctly

commit e75b5bc194449447a2f9e7804c1fd25feb04ee76
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 16:10:15 +1100

    conf: return TRUE if globally enabled is unset and unschemaed
    
    Also fix up some line wrapping issues and other small bits.

commit d4888a59a2abcea30c043bd17068dcb799b25a2f
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-16 14:11:16 +1100

    Update spec for int64 timestamps, correct dbus-service types
    
    Also plug a leak due to incorrect usage of tp_value_array_build

commit c06e7c7633386534324cf1f75a3a82a44ad3f095
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 16:06:30 +0000

    TP style fixes

commit d723143c485990e1b1aa1ebc689db6a0ee142882
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 16:00:46 +0000

    Use of tp_value_array_build

commit 9e05b0e7271b0ec17e58714a3067c8bff420ddb4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 15:47:05 +0000

    Renamed util.h CHAN_DEBUG into PATH_DEBUG
    
    Updated to be usable with any TpProxy derived gobject, which has 'object-path'
    property.
    Substituted any use of CHAN_DEBUG with PATH_DEBUG.

commit bbde987aa48e0a62d98371e424df6e585565c808
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 14:34:07 +0000

    TP style fixes

commit 054615421b8c62504cc17989d8cace115ac5f216
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 14:16:44 +0000

    testsuite enhancements

commit ffe9fc4c94813082768eaeb8114739c5b12dba76
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 14:16:02 +0000

    use of gint64 for timestamp

commit 46df058d18cd9a09541250c7ca22bda7d1b2b2e2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 14:03:18 +0000

    Use of g_list_last/previous instead of g_list_reverse

commit 94451023a3909f2dfb82c84cfdcf1f7044bf41fa
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:44:11 +0000

    Documentation string fix

commit 0c158367a90a808bb0798b06f02d2f79949fe699
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:42:01 +0000

    Passing NULL for unused handle_type calling tp_channel_get_handle

commit f52fa900937fcf04f220a76c5fb66e61530534e2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:40:44 +0000

    avoiding use g_strdup if no storing for the value is done

commit ec89191ac11d109063d864acfcca52408bd112c1
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:39:30 +0000

    G_DEFINE_TYPE should be used before any other func declaration

commit 598b7a622e65341e002a7bb9b2999d36f3d589d1
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:38:54 +0000

    Using arr[0] instead of a less clear *arr for elem 0

commit 5520bd8839e82a8bc66b109b7189e1b2da56761f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:36:32 +0000

    Using G_N_ELEMENTS instead of FOO_LEN constants

commit a6369927faafb244faf853f01bf4c55f1d28679f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:30:36 +0000

    DBus registration failure should be notified even if TPL_DEBUG is not set

commit 10bec615d465cfad9c76845c8dbd9a9995c6741d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-15 13:30:03 +0000

    checking against NULL before unreferencing a GObject

commit 050bc10b196e2fb90778a9ceef44c2b65ffa4fc7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-14 14:56:53 +0000

    Returning reference to TplDBusService
    
    If unreferenced, it will be disposed and DBus registration will be unregistered.
    If not returned a reference will be leaked.

commit 98272f36f145110eef4b94a61b68567698d65bf6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-14 13:34:27 +0000

    dbus-service algorithms and readability improvemets

commit d9af78c6d3a6ea0009757ea18510e7a19133ace4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-14 00:56:26 +0000

    Makefile.am cleanups

commit c481bb772babaafef81013abfefe9be19d674d4f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-14 00:38:54 +0000

    Using tp_proxy_get_object_path

commit 83ec0a63f81eb59d39e2dd84569a3d0a3d590799
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-13 23:54:17 +0000

    renaming badly named function

commit 0d453c3de94f513ffafadd5c24b241c942a001cf
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-13 19:47:51 +0000

    Fix config.h inclusion in debug.h

commit 6798ce20c11c3e970db518d17e99f92b11f2c14c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-13 19:35:53 +0000

    Removal of util.c module.
    
    Use the normal approach to unreferencing objects.
    Use g_str_equal instead of tpl_strequal (which was useless and now removed).
    
    Removed any inclusion of util.h from headers files, and properly including
    util.h in .c files

commit 1b041cd588e49fd710d5bfed94c6756592c1562b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-13 18:16:46 +0000

    Fix the the lib name for linker's -l param

commit de0cab84755e1376cebc2e153b75198c93f5d184
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-13 18:02:03 +0000

    include config.h
    
    Also alphabetic ordering for TPL_DEBUG_XXX constant and GDebugKey array

commit 38ee32ffe4cf760878cdbebc83c6e5c60f6087cf
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 21:13:25 +0000

    using obj = g_object_ref (obj)

commit d4288c9388049e9471d9eb28339774d4565e6d1e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 20:10:57 +0000

    break missing in switch

commit 25b99da0587b48d6a326e85d34d9522b8f5d2748
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 20:09:40 +0000

    using g_hash_table_replace

commit 2125b532a0263206a54c6bbb46e2382c4651b851
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 20:09:00 +0000

    comment updates mostly for gtk-doc

commit 044ef4a983bcc7b7c728b028e36052af4c7d62e7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 20:05:26 +0000

    properly freeing TplLogManagerAsyncData
    
     * plus minor aesthetical changes

commit d1cf015734508707328a4e7cd6b506eab5309ed9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:57:32 +0000

    using g_critical which is not fatal

commit c0c8c737b988867ccde71f953191a4da0f8996d6
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:52:20 +0000

    reordering vcalls declarations in class_init

commit 2fad408aa01c02510e6a9f92a9b1b1c2286179d9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:48:19 +0000

    dbus-service algorithms and readability improvemets

commit 74110ddfb6582a302b21c72ec7d2497a2cdf5e5d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:45:59 +0000

    finalize/dipose fixes

commit bbf8a2177acaee3b25044d9dfee2b920da8e715e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:42:58 +0000

    renaming to tpl_log_register_log_store

commit 8f08298da2734c1ad4ded2f1c71b9a1fb5427bb7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:36:12 +0000

    Telepathy restyling

commit e2263c445821df94b3ad37665a67d3e50cc89baa
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:28:52 +0000

    Action chain module created
    
    * moved action-chain related funcs to action-chain module
    * remove action-chain related funcs from utils
    * included action-chain.h where needed and added to Makefile.am

commit f98202be757469238c311aa952fd3d01f40bd69b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 19:17:47 +0000

    use tp_proxy_get_object_path()

commit 0afec9f70bf205f05d75f08f7a2f0ddd2ba821ba
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 18:41:23 +0000

    GThread init before any func call.
    
    * removed g_thred_init from the log manager
    * initialising thread in main, before anything else

commit e5d921b41f216915d5b53097e269b2749842669f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 18:39:03 +0000

    use tp_dbus_daemon_dup() and proper unref

commit cee3717ee97bfd4a3a116c4dd4d49a8d25c5c8d1
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-12 15:54:59 +0000

    Fix prop's getters/setters and flags

commit d33554238ecae3af0b9f34fd829c7b7343688ed4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 16:41:13 +0000

    Adding fixing or preprocessor if/endif comments

commit d5ddecd1ec24309d9fec0407c3e29b9732e0e3c4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 15:57:32 +0000

    debug: fix coding style

commit 10477cd6f83839e1b2ceaaa6407c485b5f7ca200
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 15:57:32 +0000

    channel: fix include

commit fd9c87f22fd9d23edb5227e810e2441e03e9ef23
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 20:04:29 +0000

    Modified twisted testcases

commit 48f17f5d3950f130434eea9ade014a0fe396cdae
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 16:20:06 +0000

    dbus-service: more fixes

commit f4d15807d8479b84032d0cf6046ae7d4c7b2317b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 16:20:06 +0000

    Remove generated header from headers

commit c941f6b896cb417f8b1464093fa4abd6ec414138
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-11 16:20:06 +0000

    Some more fixes about DBus extentions

commit 0788d4226f54a39a9c0023b46c049999ddb21ec9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 17:53:06 +0000

    regenerate service file is Makefile has changed
    
    This file needs to be updated when ./configure is re-run as the prefix could
    has been changed.

commit 78bd3ccb4b48555cfd45af02e424b9544b5cc68d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 18:17:29 +1100

    Replace uses of g_debug with DEBUG

commit a069bd9707e689724e5a1937d78045d6e5269537
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 18:08:12 +1100

    telepathy-logger: Enable debugging

commit d135413c2ab965cb76daacf2e5e41571e18bd655
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 16:42:10 +1100

    observer: Always return from ObserveChannels, otherwise dispatching jams up

commit 8743d2a7cc3fa81f498e8052f899893bc24080c7
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 15:53:59 +1100

    Port to TplSvcLogger

commit 09500d23db05b1bc88fb0a3ceca9061955cc4084
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 15:53:31 +1100

    Generate client bindings

commit cc900e536d1fc4b1d9f8f98c3297e7007650b0b9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-11 14:55:03 +1100

    Get org.freedesktop.Telepathy.Logger extension building

commit ce83fc29a8a592f732e58559b1ac85f5929bfd7a
Merge: 974ce33 9effaed
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 18:10:46 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-logger

commit 974ce3392375245be7f391aeb3946d63485b7a0a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 18:09:48 +0000

    Fixed check-coding-style
    
    * now it only fails the dbus-binding-tool generated code

commit 9effaed07d64c0277385b7f62859228e57e5e007
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 16:36:34 +0000

    generate libtelepathy-logger-uninstalled.pc file
    
    This is needed to use libtp-logger as a git submodule in Empathy.

commit 8dd135b1bddbfc091aacd38294698352ade38f12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 17:22:48 +0000

    libtelepathy-logger.pc.in: fix Name and Description

commit a9355174e173027efc32615d55411d635d30ba18
Merge: d268bbd 4535f43
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 16:42:41 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-logger

commit d268bbdd6b2eff1ca75c9d274fb8d629091cb1d0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 16:41:59 +0000

    Added Makefile generation for tests/suppressions

commit 4535f437ed5db1f0e00ebe97b919ed458e2e6b1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 16:30:52 +0000

    autogen.sh: call gtkdocize
    
    libtelepathy-logger now generates doc

commit c66c9581c54fd5ff73460aed0d9c7f13757ed613
Merge: ab3a148 b342194
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 16:11:18 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-logger
    
    Conflicts:
    	.gitignore

commit ab3a1484a8fa68d82872b4b78f8fe09877208aa4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 16:05:29 +0000

    Added debug module from gabble
    
    * added debug support in channel-text and observer using the new debug module

commit b3421946e58d45dfa89b2c21f453d7d061d947a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 15:56:39 +0000

    prefer automake/aclocal 1.11
    
    This is needed to use --silent-rules.

commit d361381cbbe9ab0bc1954452a9eb39d2859ef041
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 15:49:52 +0000

    No need to include INSTALL in git
    
    This file is generated by autogen.sh

commit 69619ec283c0dc6061a8a4cd2357c45d4d4dcaec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-02-10 15:46:48 +0000

    Use autogen.sh from telepathy-salut
    
    There is no need to use gnome-autogen.sh for telepathy-logger. Also add the
    --no-configure that will be used by Empathy when using tp-logger as a
    submodule.

commit d7365b09e0952a86ab8660479c259d1792029d0d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-10 12:19:58 +0000

    created gtk-doc infrastructure
    
    * created doc/ infrastructure
    * added several doc comments
    * fixed some tests

commit 9e9750e3b8bd1ad10220c299ef7f62022cd1e8a5
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-09 15:22:00 +0000

    Moved dbus-service.xml to data/

commit 9bcf58a830062a3283f325c5bcaa85b8bac9121e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-09 15:19:39 +0000

    Moved dbus-service to telepathy-logger/
    
    * moved the DBus related modules from src/ to telepathy-logger/
      and data/ for dbus-bind-tools XML
    * adding doc for TplConf
    * TP-restyling for TplConf

commit 7e83bcfc78f002a10f47963172f502035bf8e807
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-08 17:17:55 +0000

    TplChannelText actionchain order fixed
    
     * it's a recommit or 5084ee671ed91648423651260c5d929597861cb3, which for some reason wasn't right.
     * added _prepend method to ActionChain
     * fixed a action insertion order in TplChannelText, so that TpContacts are
       retrieved BEFORE the message pending retrieval
     * improved TplChannelText debugging

commit ce4bcf346f52c6fd9ad41108317a3207f1ed370c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-08 17:15:08 +0000

    Merged the TPL and TPL DBus service
    
    * TPL and TPL-DBus are now running within the same daemon telepahty-logger

commit 5084ee671ed91648423651260c5d929597861cb3
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-08 16:51:09 +0000

    TplChannelText actionchain order fixed
    
    * added _prepend method to ActionChain
    * fixed a action insertion order in TplChannelText, so that TpContacts are
      retrieved BEFORE the message pending retrieval
    * improved TplChannelText debugging

commit 58d6bab01c5f7d75e4c6e7b9f8c23843de15098a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-05 18:53:16 +0000

    fix lost pending messages
    
    * add support for Pending Messages retrieval on Text channels
    * misc TP re-styling
    * add properties to TplContact
    * add documentation for some methods

commit 7cd4c1beaaff23982315feb17fbbc024e8b61377
Merge: bb2bb1b 164d3ac
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-04 17:31:50 +0000

    Merge branch 'multi-logstore'

commit bb2bb1bc6fced6e62e3481b904cf760664254295
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-04 17:31:18 +0000

    GitIgnore update

commit 5e633efbcc2e9ef0a24813c90d6f203488bc040c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-04 17:29:23 +0000

    Adding an improved (a bit) infrastructure for test

commit 164d3acd8e76757d56a6e8e65f18edce0eb56a47
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-04 17:27:17 +0000

    Add support for multi logstore

commit a68ca09705b73ea229186671e97bcddc76e51866
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-03 13:47:18 +0000

    ChannelFactory registration to TplObserver
    
    * added getter/setter for TplChannelFactory to the Observer
    * added Channel Factory registration phase into src/telepathy-logger.c

commit b678ca070fbaac25b10f5794215f58771f3c4a25
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-02 17:08:59 +0000

    Improved channel-factory
    
    * using GHashTable instead of static array for ChannelType+TplChannelContructor association
    * initialising the Channel Factory in src/telepathy-logger.c

commit f08161df2b0e9f46271a5bb3ba5a15694642b169
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-01 15:38:10 +0000

    imported tests from telepathy-gabble
    
    * test folder imported from telepathy-gabble, twisted/ still not working but cleaned-up of clearly useless tests.
      it still needs a further clean-up and adaptation in order to be used.
    * basic C tests written
    * autotools (configure and Makefile .au) updated for Python and Twisted checking.
    * autotools (configure and Makefile .au) updated for DBus and DBus-glib basic requirement

commit f9e7d06dfb68dceb66fa7abac603a621e02198d9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-02-01 12:15:17 +0000

    Fixed async multi-TplChannel handling in observer
    
    * TplObserver now can handle more than one channel passed to Observe_Channel and return safely

commit 9693a87684a319645f4a18a2f78d1f2995fd4b5a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-29 19:22:13 +0000

    TP Restyling

commit 24aebbfe6f09485cde13c45d48b34bfac3ab1f61
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-29 19:03:03 +0000

    TP Restyling

commit 2e520db643e63c674ad955212f143ce1997189f2
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-29 19:02:04 +0000

    Added file for TP DBus extension support

commit deb5b0460352f8ae9031621360c64f33b5c1c70b
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-28 17:26:01 +0000

    add TplObserverPriv to TplObserver

commit a6cb86841343fcbe269c8586fc48bc13a87cbc3d
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-28 17:03:45 +0000

    Fixed tpl_log_entry_text_message_type_from_str

commit c7ec23cd07f386ea33131e88dbe328622c51da78
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-28 16:47:31 +0000

    added a Channel Factory to transparently handle channels
    
    * channel-factory module will handle the creation of TplChannel subclasses transparently, updating two static array everytime it's a new subclass is added

commit 38342ffb98648723a62cb884adca78700c0de6b7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-28 15:32:47 +0000

    Better handling of remote TpContact when on 1-1
    
    * split the received signal CB in order
    * fixed a but introduce during refactory, registering to the obsever connection
      paths instead of channel paths.

commit 1623ad20ceca5f0c89d9123bcceabe1e97ca5b0a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-28 14:42:45 +0000

    Refactored TplChannelText using ActionChain
    
    * refactored TplChannelText as implementation of the abstract TplChannel
    * added tpl_channel_text_call_when_ready method in order to prepare
      tpl_channel, its internal objects, connect signals, etc
    * added TplActionChain struct and related functions to util.[ch]

commit 70a0538a65ac9104cea1263e99f3a51ff098d7b3
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-26 18:47:22 +0000

    Refactring of TplChannel as subclass of TpChannel

commit bc1357f1ae1bd00e9be7cfe000c605568e65afd0
Merge: 1076aa4 2a00742
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-26 14:01:41 +0000

    Merge branch 'logentry-refactoring'
    
    Conflicts:
    	telepathy-logger/log-manager-priv.h
    	telepathy-logger/log-manager.c

commit 2a00742bf173ca9ff28e78faaefcef327024f2e0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-26 11:51:24 +0000

    Finished abstraction on TplLogEntry + TP restyling

commit 58c39b3433adcbce7bd4b6d1573fdf522a465ae0
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-25 19:44:24 +0000

    move TplLogEntry abstract and virtualized some methods

commit 0cc12ba184fa147a87527da25e30c3ea55366d0f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-25 16:50:16 +0000

    TP re-styling for TplLogEntry

commit 1076aa49c640dcbdbd767c6af2b430156eb89744
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-25 15:41:26 +0000

    Using GAsyncReadyCallback

commit abe0546a67281ad9bce49700aa7b02c2f7135293
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-25 15:17:11 +0000

    Fixed activatable .service file for dus service

commit ba813c19a5d8eba5ca33f793527600ff47552de9
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-22 15:26:31 +0000

    g_fprintf fix for non-literals

commit c228216d46942e9ae001be074d8514a8d3cb3609
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-22 15:22:39 +0000

    Fixed data/Makefile.au schemas generation bugs

commit 7467e46077411d4dc5d38cfca4a73db85b4ff860
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-22 14:50:26 +0000

    Configure/autogen fix for po/ dir

commit 8a4d6267a18f2639953a21bf3c405ef8430e5a00
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-22 12:42:39 +0000

    Started the TplLogEntry refactoring

commit 81699fa85b073e21b89c9a85187ce2dd3c0b7756
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-21 15:29:32 +0000

    Moved TplContact using a priv struct

commit 781afa4c23257583cdf326e0ae0f91d6f9a4ad52
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-20 15:40:49 +0000

    decreased log-store-empathy verbosity

commit 20bcca610a3382d95284122443a9139b64bb263a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-20 14:39:58 +0000

    Fixed channel map removal bug
    
    * removed all leading \n in g_print family func calls

commit 0fa5a714f0ae01f4307a325a0d67ed2c294c8600
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-19 11:57:19 +0000

    TplConf bug fixed

commit 5853f0728abf10827245b5bdb496f2c960a4ef36
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-15 16:18:27 +0000

    Created data/
    
    * moved relevand data files into data/

commit 29c7fb4da417adebc65b7a0a44ee49a0bfdd2797
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-14 17:23:58 +0000

    GConf enabled
    
    * gconf enabled using TplConf. Schema defined in telepathy-logger.schemas file
    * fixes for the Async API
    * add_message and add_message_async modified: chat_id, is_chatroom not needed anymore, while using TplLogEntry

commit c5a57433eb4c2ade0fc110d98093eea2bb42de3e
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-13 14:58:08 +0000

    Async API infrastructure
    
    * moved code from libtelepathy-logger/ to telepathy-logger/
    * used /usr/bin/indent filter with GNU style for source formatting
    * added log-manager's async APIs infrastructure using GIO
    * addes some async method using the async infrastructure
    * added gconf infrastructure in the telepathy-logger/conf module

commit 4ed7270537dce069ee0f73d24a575043828f1622
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-07 17:16:58 +0000

    Telepathy code style compliant changes (part1)
    
    * remove tpl- prefix from file names
    * moved all the libtelepathy-logger lib related files into libtelepathy-logger/ directory
    * clean up of configure and makefiles autotool's scripts
    * added TplConf object for GConf configuration

commit bc271b0002d24871451354296007b3fe62249117
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-01-05 18:01:16 +0000

    DBus LastChats method working
    
    * added a working LastChats method to the DBus service
    * bug fixing

commit 1fc9816fa509822525285dc2ce03b707111ceff8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-31 18:07:36 +0000

    DBus service enhancements (still proto)
    
    * fixed .service file generation in Makefile.am
    * implemented the basic (silly) code for LastMessages method, returning
      the last 5 lines of chat for the selected account+identifier
    * TODO: understand what type return (as?)

commit dc30c9a81abef063f080c7e1ff1a9719b7a59e3a
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-30 19:07:58 +0000

    proto DBus service, .service and .client installed
    
    * prototype of DBus service, called telepathy-logger-dbus
    * Automake amending for dbus-binding-tool, .service and .cliet TP files

commit 87a30fdddcbc41d88b5937de33c2e4be7d0f33ad
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-29 18:04:36 +0000

    Added method to search among just one identifier messages
    
    * added tpl_log_store_search_in_identifier_chats_new

commit 2062463f1d28d873e856744c2328e5a6668e30b4
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-29 17:19:10 +0000

    Dynlib produced and client API split
    
    * libtool dynamic library produces (libtelepathy-logger) using automake
    * tpl-log-reader removed (tpl-log-manager used isntead, see below)
    * TplLogManager methods split into tpl-log-manager.h for the read-only
      API and tpl-log-manager-priv.h for the internal write access ones

commit 3fa20ae0b0d2465f3a78076461f19c59f4cfca41
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-29 12:09:12 +0000

    reverting the test file

commit 2617a96e629c78e9c3b7a983ce47d96174136b2c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-29 11:11:27 +0000

    Added tpl-log-reader for the read only API
    
    * added tpl-log-reader.[ch]
    * moved headers from include/ to src/
    * bug fixing in tpl-log-empathy, especially on the pre-requisites checks

commit 8331fc1f0523472d040b1b6a08f9eea8f98df3a8
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-28 12:48:52 +0000

    Added tpl-log-entry.[ch] files

commit c0836370f75a10f96a989a7065b135a0b26473f7
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-28 12:41:45 +0000

    bug fixing and TplLogEntry refactoring
    
    * log manager uses TplLogEntry instead of TplLogTextEntry
    * chatroom logging problem on "user's sent" received messages, added a
      TODO item for Message interface handling

commit d9bbcf4244376b8976f2a12e525c4813232be581
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-15 15:37:33 -0200

    Code clean-up complete - working TPL

commit 436431fa929cea024a97421cb3029a565d17d313
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-09 23:06:24 -0200

    Started code clean-up
    * added register/unregistering methods channels
    * renamed old tpl-utils funcs to ref/unref using tpl_object prefix
    * tpl-headless-logger-init.c cleaned-up
    * tpl-observer.c cleaned-up
    * tpl-channel.c cleaned-up
    * added Closed signal handler for TpChannel

commit c9fcb00489fe3546dd6c67ad142ee8396202a471
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-09 16:46:46 -0200

    Text interface 1-1 chat and chatrooms loggin
    
    * refactored main objects (TplTextChannel, TplChannel, TplContact,
      TplLogEntryText)
    * using a deferred task chain style procedures in TplTextChannel,
      to allow a easier-to-read CB's cascading (hopefully)
    * renamed all modules using dashes instead of underscores
      (tpl_foo.c -> tpl-foo.c)
    * using tpl-log-manager from Empathy to manage LogStores
    * enabled TplLogManager into TplTextChannel received/sent signals
    * enabled 1-1 sent/received logging
    * enabled chatroom logging

commit 8fb9c3d6136c533cb5f240740f357647019b22ab
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-04 21:14:58 -0200

    Completed importing and refactoring of EmpathyLogStore
    * removed any call which would make TPL depending on libempathy
    * copied empathy-time.[hc]
    * added some empathy's utility function to tpl_utils.[ch]
    * added support for automake/autoconf using empathy's one as basis:
      currently TPL depends on telepathy-glib and libxmp-2.0 (and theirs
      deps)
    * added AUTHORS COPYING INSTALL README and NEWS files (empty)

commit 35c657537049f36e2d6fa445008a498dde4c8423
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-04 13:21:05 -0200

    First example of TplLogStore working (almost)
    * it logs only sent messages
    * it uses  ~/.local/share/TpLogger/logs/ so it won't interfere with
      Empathy's alrady existing logs
    * probable problems with several functions in the logstore that still
      referes to libempathy

commit 295573e92177b1c5077359e000c8dae3718e8e51
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-04 12:23:15 -0200

    Empathy's adapted log store can compile
    * error free compilation of the empathy logstore
    * changed the namspace for the empathy logstore from Empathy to Tpl
    * added some function to TplLogEntryText and TplContact to be able
      to recall EmpathyContact EmpathyMessage
    * empathy's logstore is still not used
    * moved headers file in ROOT/include

commit 23a56c112f55c59a7714cc63f2043b43ebbbc22f
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-03 20:57:40 -0200

    imported Empathy's LogStore and creating some glue objects
    * added tpl_contact.c that is similar to EmpathyContact
    * now received/sent signals instantiate TplContact and will creat TplLogEntryText to be sent to the LogStore

commit 8201a1c1159c83db9e50546f100942fbb229bc70
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2009-12-02 19:39:22 -0200

    First working version of Text channel logger using g_message
    * modularized, GObject still miss destroyers (TODO) and properties (unsure if it's important)
    * run ./compile.sh which will produce ./test
